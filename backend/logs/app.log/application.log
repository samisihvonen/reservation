2026-02-05 14:07:16 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 19380 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-05 14:07:16 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-05 14:07:16 [main] INFO  c.e.backend.BackendApplicationTests - The following 1 profile is active: "test"
2026-02-05 14:07:16 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-05 14:07:16 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3b05a99b
2026-02-05 14:07:20 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05 14:07:20 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-02-05 14:07:20 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-05 14:07:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05 14:07:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05 14:07:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:07:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:07:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:07:23 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:07:23 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-05 14:07:23 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:07:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-05 14:07:25 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-05 14:07:25 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f290f46, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2bfe398b, org.springframework.security.web.context.SecurityContextHolderFilter@1b6daf20, org.springframework.security.web.header.HeaderWriterFilter@4eba6e1f, org.springframework.web.filter.CorsFilter@4a23be9, org.springframework.security.web.authentication.logout.LogoutFilter@197bf5ef, com.example.backend.security.AuthTokenFilter@6980fa39, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@231d5119, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3470c771, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20d1737, org.springframework.security.web.session.SessionManagementFilter@4acae4c7, org.springframework.security.web.access.ExceptionTranslationFilter@160b7ccd, org.springframework.security.web.access.intercept.AuthorizationFilter@4e739968]
2026-02-05 14:07:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-05 14:07:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-05 14:07:27 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 10.906 seconds (process running for 13.959)
2026-02-05 14:07:28 [main] INFO  c.e.b.c.HealthControllerTest - Starting HealthControllerTest using Java 25.0.1 with PID 19380 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-05 14:07:28 [main] DEBUG c.e.b.c.HealthControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-05 14:07:28 [main] INFO  c.e.b.c.HealthControllerTest - The following 1 profile is active: "test"
2026-02-05 14:07:28 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@563f53d8
2026-02-05 14:07:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05 14:07:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-05 14:07:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05 14:07:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05 14:07:29 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:07:29 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:07:29 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:07:29 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:07:29 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-05 14:07:29 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:07:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-05 14:07:29 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-05 14:07:30 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79ab79f6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c974fe8, org.springframework.security.web.context.SecurityContextHolderFilter@4ed56cfd, org.springframework.security.web.header.HeaderWriterFilter@17d03583, org.springframework.web.filter.CorsFilter@422f74b7, org.springframework.security.web.authentication.logout.LogoutFilter@7668b4ff, com.example.backend.security.AuthTokenFilter@46eb5c0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f06abd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52fe7c0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c88bef5, org.springframework.security.web.session.SessionManagementFilter@3da94286, org.springframework.security.web.access.ExceptionTranslationFilter@192c3be0, org.springframework.security.web.access.intercept.AuthorizationFilter@7ec9780b]
2026-02-05 14:07:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-05 14:07:30 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-05 14:07:30 [main] INFO  c.e.b.c.HealthControllerTest - Started HealthControllerTest in 2.522 seconds (process running for 17.55)
2026-02-05 14:07:30 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 19380 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-05 14:07:30 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-05 14:07:30 [main] INFO  c.e.b.c.ReservationControllerTest - The following 1 profile is active: "test"
2026-02-05 14:07:30 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6bddd4ce
2026-02-05 14:07:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05 14:07:31 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-05 14:07:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05 14:07:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05 14:07:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:07:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:07:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:07:31 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:07:31 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-05 14:07:31 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:07:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-05 14:07:32 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-05 14:07:32 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@580930b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e55ee99, org.springframework.security.web.context.SecurityContextHolderFilter@7cff8996, org.springframework.security.web.header.HeaderWriterFilter@378c2cb4, org.springframework.web.filter.CorsFilter@39086d6b, org.springframework.security.web.authentication.logout.LogoutFilter@2e042c93, com.example.backend.security.AuthTokenFilter@b7461ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18182680, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ce3b8d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@303fe95c, org.springframework.security.web.session.SessionManagementFilter@ad71740, org.springframework.security.web.access.ExceptionTranslationFilter@6015326, org.springframework.security.web.access.intercept.AuthorizationFilter@4861df70]
2026-02-05 14:07:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-05 14:07:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-05 14:07:32 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-02-05 14:07:32 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-02-05 14:07:32 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 2.173 seconds (process running for 19.807)
2026-02-05 14:07:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@191a8997]
2026-02-05 14:07:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:33 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2bd13c]
2026-02-05 14:07:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@1b6a9bb9]
2026-02-05 14:07:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@406ba622]
2026-02-05 14:07:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:33.188552900, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='1283eb97-0a68-4d0d-9b8e-575a39f482d1', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/1283eb97-0a68-4d0d-9b8e-575a39f482d1
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/1283eb97-0a68-4d0d-9b8e-575a39f482d1
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/1283eb97-0a68-4d0d-9b8e-575a39f482d1
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/1283eb97-0a68-4d0d-9b8e-575a39f482d1
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: 1283eb97-0a68-4d0d-9b8e-575a39f482d1, timestam (truncated)...]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: 1283eb97-0a68-4d0d-9b8e-575a39f482d1]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@40c29d65]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@108f7999]
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@32b72d9d]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@18a7c1f6]
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-05T14:07:34 (truncated)...]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1a3d4d94]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1ce0a7bc]
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@57598df7]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@71254c46]
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:34.704492800, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c289734f-df9f-43bf-a910-12ccc1f90fef', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/c289734f-df9f-43bf-a910-12ccc1f90fef
2026-02-05 14:07:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:34 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4f940c29]
2026-02-05 14:07:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@65b6b7e9]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@76372f7f]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@30d19b22]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:34.986479100, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='2f2ab490-804f-4493-9bf9-67a4cf8f85b2', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/2f2ab490-804f-4493-9bf9-67a4cf8f85b2
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/2f2ab490-804f-4493-9bf9-67a4cf8f85b2
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T18:07:34.986479100, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='2f2ab490-804f-4493-9bf9-67a4cf8f85b2', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@210bdb8e]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@484424e3]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@68a08d18]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@31f608d2]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:35.307001700, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='77be7206-345e-4db7-8b35-119f8b2c685b', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T18:07:35.307001700, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='734a3e5d-c415-4d27-8f92-d6c5fb204d22', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/77be7206-345e-4db7-8b35-119f8b2c685b
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/77be7206-345e-4db7-8b35-119f8b2c685b
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T17:37:35.307001700, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-02-05T14:07:35.552 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@74df55b2]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2fe12b04]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@50be06c0]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@50dffff3]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:35.577582600, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='0433d83f-c17c-4c57-ba69-56d50a8c6ad7', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/0433d83f-c17c-4c57-ba69-56d50a8c6ad7
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/0433d83f-c17c-4c57-ba69-56d50a8c6ad7
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T13:07:35.807814, endTime=2026-02-05T1 (truncated)...]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydessä., timestamp=2026- (truncated)...]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydessä.]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4621d245]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@69117714]
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2655732]
2026-02-05 14:07:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2b79945f]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:35.840303400, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-05T14:07:36 (truncated)...]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@39314e02]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@78596d51]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@308cfdf1]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@e64ef0a]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-05T14:07:36 (truncated)...]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4af25503]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@c546f73]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@51e044da]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@76baeab]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:36.350551200, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='1602d556-49a2-4283-a948-dba8e3faa683', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/1602d556-49a2-4283-a948-dba8e3faa683
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/1602d556-49a2-4283-a948-dba8e3faa683
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='1602d556-49a2-4283-a948-dba8e3faa683', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@50b9399a]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5e5148b5]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@415542ba]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@20b97637]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T12:07:36.810808100, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydessä., timestamp=2026-02-05T14:07:36. (truncated)...]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydessä.]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6853d6fb]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@343d2c5a]
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4c378d86]
2026-02-05 14:07:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6c062a89]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Päättymisaika on pakol (truncated)...]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Käyttäjän nimi on pakollinen]] [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Päättymisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] ]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@46fb460a]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@12599bf3]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2e61a2ff]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@23b40e2a]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:37.149628800, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='03ba83d8-8373-4b62-b4f2-d2235e64aa78', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:37:37.149628800, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-02-05T14:07:37.3 (truncated)...]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4856ec9]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1d064935]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@46061e1c]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@681229e8]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:37.386003200, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='90b165a9-2f00-410c-bf19-d5f3c39df9ee', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@76419338]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4cd9e486]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2afdfcc3]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@e447d2d]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T17:07:37.616694800, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Päättymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-02-0 (truncated)...]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Päättymisaika ei voi olla alkamisaikaa ennen.]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@723475e4]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@38e8488f]
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@62931c28]
2026-02-05 14:07:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4b2dd504]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@25dc4d01]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@50eb7b10]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@540823d]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@798b52a0]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:38.144027900, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b5aaea49-163a-465c-8bd2-4d2d18f5a1ca', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7a39194f]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@212c969a]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@7d76036a]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@53f92771]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T17:07:38.144027900, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-02-05T14:07:38.5 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2b06fc00]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@59362a47]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5c09b49f]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2478b0e6]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:07:38.615694600, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='40e76939-6de4-42f2-b874-2e22354ae332', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T18:07:38.615694600, endTime=2026-02-0 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='5779e1b3-2824-49ab-8336-351589215f9f', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='40e76939-6de4-42f2-b874-2e22354ae332', roomId='room-1', startTime=2026-02-0 (truncated)...]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@108a411c]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@33246f17]
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@58f83032]
2026-02-05 14:07:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@db05f0e]
2026-02-05 14:07:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-05 14:07:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-05 14:07:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-05 14:07:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:07:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:39 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:07:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:07:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1bd7762f]
2026-02-05 14:07:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:07:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1415d4ca]
2026-02-05 14:07:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:07:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:07:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3714571c]
2026-02-05 14:07:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@27af34df]
2026-02-05 14:07:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-02-05 14:07:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-05 14:07:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:07:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@3b05a99b, started on Thu Feb 05 14:07:16 EET 2026
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@563f53d8, started on Thu Feb 05 14:07:28 EET 2026
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6bddd4ce, started on Thu Feb 05 14:07:30 EET 2026
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:07:39 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:47:13 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-05 14:47:13 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 9224 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-05 14:47:13 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-05 14:47:13 [main] INFO  c.e.backend.BackendApplicationTests - The following 1 profile is active: "test"
2026-02-05 14:47:13 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4393593c
2026-02-05 14:47:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05 14:47:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-02-05 14:47:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-05 14:47:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05 14:47:20 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05 14:47:20 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:47:20 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:47:20 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:47:20 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:47:20 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-05 14:47:20 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:47:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-05 14:47:22 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-05 14:47:22 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7f77d839, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46ebd87a, org.springframework.security.web.context.SecurityContextHolderFilter@4086e003, org.springframework.security.web.header.HeaderWriterFilter@4164ab12, org.springframework.web.filter.CorsFilter@6dbe6891, org.springframework.security.web.authentication.logout.LogoutFilter@73611fbb, com.example.backend.security.AuthTokenFilter@31b6eec8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1934a7c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@223e51e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30be77cd, org.springframework.security.web.session.SessionManagementFilter@197bf5ef, org.springframework.security.web.access.ExceptionTranslationFilter@13056efe, org.springframework.security.web.access.intercept.AuthorizationFilter@3b67c637]
2026-02-05 14:47:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-05 14:47:23 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-05 14:47:24 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 11.183 seconds (process running for 13.404)
2026-02-05 14:47:25 [main] INFO  c.e.b.c.HealthControllerTest - Starting HealthControllerTest using Java 25.0.1 with PID 9224 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-05 14:47:25 [main] DEBUG c.e.b.c.HealthControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-05 14:47:25 [main] INFO  c.e.b.c.HealthControllerTest - The following 1 profile is active: "test"
2026-02-05 14:47:25 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6662af0a
2026-02-05 14:47:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05 14:47:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-05 14:47:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05 14:47:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05 14:47:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:47:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:47:26 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:47:26 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:47:26 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-05 14:47:26 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:47:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-05 14:47:27 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-05 14:47:27 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5fd81b2c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2591f310, org.springframework.security.web.context.SecurityContextHolderFilter@7645ced6, org.springframework.security.web.header.HeaderWriterFilter@33dc36d5, org.springframework.web.filter.CorsFilter@4bbddcc8, org.springframework.security.web.authentication.logout.LogoutFilter@6f535d77, com.example.backend.security.AuthTokenFilter@5323c6de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@413069a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38138629, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3aac3f34, org.springframework.security.web.session.SessionManagementFilter@7d3f7e4b, org.springframework.security.web.access.ExceptionTranslationFilter@596d15c, org.springframework.security.web.access.intercept.AuthorizationFilter@61736817]
2026-02-05 14:47:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-05 14:47:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-05 14:47:27 [main] INFO  c.e.b.c.HealthControllerTest - Started HealthControllerTest in 2.412 seconds (process running for 16.988)
2026-02-05 14:47:27 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 9224 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-05 14:47:27 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-05 14:47:27 [main] INFO  c.e.b.c.ReservationControllerTest - The following 1 profile is active: "test"
2026-02-05 14:47:27 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@55e9b119
2026-02-05 14:47:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-05 14:47:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-05 14:47:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-05 14:47:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-05 14:47:28 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:47:28 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:47:28 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:47:28 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:47:28 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-05 14:47:28 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-05 14:47:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-05 14:47:29 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-05 14:47:29 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d31ff3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eb3e87c, org.springframework.security.web.context.SecurityContextHolderFilter@7a72fc23, org.springframework.security.web.header.HeaderWriterFilter@339e62bb, org.springframework.web.filter.CorsFilter@7b362c16, org.springframework.security.web.authentication.logout.LogoutFilter@65a124a, com.example.backend.security.AuthTokenFilter@6bac4719, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ec9bd88, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@171f9f2c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f79660e, org.springframework.security.web.session.SessionManagementFilter@4968bd4e, org.springframework.security.web.access.ExceptionTranslationFilter@1d88414a, org.springframework.security.web.access.intercept.AuthorizationFilter@15a7fda8]
2026-02-05 14:47:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-05 14:47:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-05 14:47:29 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-02-05 14:47:29 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-02-05 14:47:29 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 2.113 seconds (process running for 19.166)
2026-02-05 14:47:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:30 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:30 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:30 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2dec97ea]
2026-02-05 14:47:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:30 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@eb87c61]
2026-02-05 14:47:30 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:30 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:30 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@19ea1606]
2026-02-05 14:47:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@20e1361d]
2026-02-05 14:47:30 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:30 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:30.013806100, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:30 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:30 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:30 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='58ab928d-0473-4082-93e8-810f1c90023d', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:30 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/58ab928d-0473-4082-93e8-810f1c90023d
2026-02-05 14:47:30 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/58ab928d-0473-4082-93e8-810f1c90023d
2026-02-05 14:47:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/58ab928d-0473-4082-93e8-810f1c90023d
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/58ab928d-0473-4082-93e8-810f1c90023d
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: 58ab928d-0473-4082-93e8-810f1c90023d, timestam (truncated)...]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: 58ab928d-0473-4082-93e8-810f1c90023d]
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:31 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4fcb1a13]
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@656fcf12]
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:31 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2441e2d3]
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@54724e71]
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-05T14:47:31 (truncated)...]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:31 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@522ef462]
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@42b4b037]
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:31 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@62edd125]
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@651665e5]
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:31.557534500, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='5a5c5d9b-5396-4f77-89d7-71265f4bd07a', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/5a5c5d9b-5396-4f77-89d7-71265f4bd07a
2026-02-05 14:47:31 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:31 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:31 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@549426d8]
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:31 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:31 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@19556353]
2026-02-05 14:47:31 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:32 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2eb8e649]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1da074ef]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:31.879298400, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7f119d29-fe38-49da-98f1-3ef782a41421', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/7f119d29-fe38-49da-98f1-3ef782a41421
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/7f119d29-fe38-49da-98f1-3ef782a41421
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T18:47:31.879298400, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7f119d29-fe38-49da-98f1-3ef782a41421', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:32 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7751cdf5]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@30062296]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:32 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@62ebd06c]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4d228131]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:32.249565200, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='6d0b2213-4dac-4d70-969d-309610576c98', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T18:47:32.249565200, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='f5beadc3-081f-4438-9519-be9d412462e5', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/6d0b2213-4dac-4d70-969d-309610576c98
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/6d0b2213-4dac-4d70-969d-309610576c98
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T18:17:32.249565200, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-02-05T14:47:32.658 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:32 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4ed507b0]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4864adaa]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:32 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@38d87d]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3a1a736e]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:32.708979400, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='d82b8a9c-ad02-4491-b931-d0bd49668fb3', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/d82b8a9c-ad02-4491-b931-d0bd49668fb3
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/d82b8a9c-ad02-4491-b931-d0bd49668fb3
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T13:47:32.956748300, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydessä., timestamp=2026- (truncated)...]
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydessä.]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:32 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:32 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:32 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5a25ebfc]
2026-02-05 14:47:32 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@51e044da]
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@9d275dc]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@77b60b6f]
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:32.980698300, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-05T14:47:33 (truncated)...]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7b161b91]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@627dcd12]
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@486ee396]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@16acdd2f]
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-05T14:47:33 (truncated)...]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@20b97637]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@599df260]
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3d1414d]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3a02d4bd]
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:33.564308300, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='8a7c22ef-60a8-4d48-bc51-6bc381d8b4cc', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/8a7c22ef-60a8-4d48-bc51-6bc381d8b4cc
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/8a7c22ef-60a8-4d48-bc51-6bc381d8b4cc
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='8a7c22ef-60a8-4d48-bc51-6bc381d8b4cc', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@277be936]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@46c38d77]
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:33 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:33 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:33 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4ad30ac5]
2026-02-05 14:47:33 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2ed03b1a]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T12:47:34.098447800, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydessä., timestamp=2026-02-05T14:47:34. (truncated)...]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydessä.]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5d35e169]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6f469aef]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@52336a97]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6aae4199]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Päättymisaika on pakol (truncated)...]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Päättymisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Käyttäjän nimi on pakollinen]] ]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4b9f2522]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2fbe13f3]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2bc239ff]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@18275381]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:34.368569, endTime=2026-02-05T1 (truncated)...]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7c46f085-49aa-4e2e-9e74-1946498ef2d8', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T16:17:34.368569, endTime=2026-02-05T1 (truncated)...]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-02-05T14:47:34.6 (truncated)...]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@e447d2d]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@80fc9d6]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@f42576a]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1db6813d]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:34.615224400, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b0b588c1-5bce-4254-bf35-d4f9fd47a926', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@403eab3]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@798b52a0]
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2fa0e7a8]
2026-02-05 14:47:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@35b7156f]
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T17:47:34.862591200, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Päättymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-02-0 (truncated)...]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Päättymisaika ei voi olla alkamisaikaa ennen.]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@79f40cc5]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@258350de]
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@478bbf33]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@32144b3c]
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1fdf8aa4]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4f847b48]
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@c9be844]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6009e8ab]
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:35.355673300, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='3c40f2f8-46f7-4b8d-89ed-a2105e802dac', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@76968f03]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2482b6f0]
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@671e3bd4]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@35eda194]
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T17:47:35.355673300, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='786e9f3a-75fb-4dc6-9cb3-5656f3340d5a', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@18ce4e9d]
2026-02-05 14:47:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@15990794]
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@20797dcc]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4885b386]
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T15:47:35.900514700, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='bc3ac1e6-5f9a-49cf-b949-24b1b0e7a56c', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-05T18:47:35.900514700, endTime=2026-02-0 (truncated)...]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='82d4698e-cea1-4a2f-94d5-4fa356430e24', roomId='room-1', startTime=2026-02-05 (truncated)...]
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='bc3ac1e6-5f9a-49cf-b949-24b1b0e7a56c', roomId='room-1', startTime=2026-02-0 (truncated)...]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@24a63de5]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@717a5a92]
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@27af34df]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4349ce6c]
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-05 14:47:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@79fe746d]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7842ad22]
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-05 14:47:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@32640b6d]
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6bd7f3d4]
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-02-05 14:47:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-05 14:47:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-05 14:47:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@4393593c, started on Thu Feb 05 14:47:13 EET 2026
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6662af0a, started on Thu Feb 05 14:47:25 EET 2026
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@55e9b119, started on Thu Feb 05 14:47:27 EET 2026
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-05 14:47:37 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
