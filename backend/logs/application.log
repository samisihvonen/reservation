2026-01-27 10:54:48 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 24372 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 10:54:48 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 10:54:48 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-01-27 10:54:48 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 10:54:48 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@26a529dc
2026-01-27 10:54:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 10:54:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 199 ms. Found 3 JPA repository interfaces.
2026-01-27 10:54:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 10:54:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 10:54:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 10:54:54 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 10:54:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 10:54:55 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 127 common frames omitted
2026-01-27 10:54:55 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
2026-01-27 10:54:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 10:54:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 10:54:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 10:54:58 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 10:54:58 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
2026-01-27 10:54:58 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The connection attempt failed.
2026-01-27 10:54:58 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 10:54:58 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 10:54:58 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-27 10:54:58 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 93 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 97 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 117 common frames omitted
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 10:54:58 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.backend.BackendApplicationTests@16269ff4]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2c257c0a testClass = com.example.backend.BackendApplicationTests, locations = [], classes = [com.example.backend.BackendApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@8458f04, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2cb4893b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6e9a5ed8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@6f10d5b6, org.springframework.boot.test.context.SpringBootTestAnnotation@d5678dfd], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 93 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 97 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 117 common frames omitted
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 10:54:58 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest]: ReservationControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 10:54:58 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:54:58 [main] INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2026-01-27 10:54:59 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 24372 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 10:54:59 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 10:54:59 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-01-27 10:54:59 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7c816f46
2026-01-27 10:55:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 10:55:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 78 ms. Found 3 JPA repository interfaces.
2026-01-27 10:55:01 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 10:55:01 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 10:55:01 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 10:55:01 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-01-27 10:55:01 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 10:55:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 10:55:01 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 10:55:01 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 10:55:01 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 10:55:01 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-01-27 10:55:01 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-01-27 10:55:01 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigserial not null,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-01-27 10:55:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 10:55:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 10:55:03 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: a7b7554a-cb99-42ef-8108-c81376c9fcdd

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-27 10:55:04 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 24 mappings in 'requestMappingHandlerMapping'
2026-01-27 10:55:04 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27 10:55:05 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-27 10:55:05 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72e4905c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@279b83ea, org.springframework.security.web.context.SecurityContextHolderFilter@469caf69, org.springframework.security.web.header.HeaderWriterFilter@32fa956b, org.springframework.web.filter.CorsFilter@7f9083b4, org.springframework.security.web.authentication.logout.LogoutFilter@1dc47df3, com.example.backend.security.AuthTokenFilter@63b334fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba3eee9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b48be5c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40f40221, org.springframework.security.web.session.SessionManagementFilter@3b0471a5, org.springframework.security.web.access.ExceptionTranslationFilter@265d72fd, org.springframework.security.web.access.intercept.AuthorizationFilter@4ce66169]
2026-01-27 10:55:06 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27 10:55:06 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27 10:55:06 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-27 10:55:06 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-01-27 10:55:06 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 10:55:06 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 10:55:06 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected StandardServletMultipartResolver
2026-01-27 10:55:06 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-27 10:55:06 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected FixedThemeResolver
2026-01-27 10:55:06 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7cc742d
2026-01-27 10:55:06 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1ee2e363
2026-01-27 10:55:06 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27 10:55:06 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2026-01-27 10:55:07 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 8.205 seconds (process running for 22.13)
2026-01-27 10:55:07 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 2, failureCount = 1]
2026-01-27 10:55:07 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:07 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:07 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 2, failureCount = 1]
2026-01-27 10:55:07 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 2, failureCount = 1]
2026-01-27 10:55:07 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [ReservationControllerTest], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:07 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 2, failureCount = 1]
2026-01-27 10:55:07 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 2, failureCount = 1]
2026-01-27 10:55:07 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 10:55:08 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 10:55:08 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 10:55:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@774cc4a9]
2026-01-27 10:55:08 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 10:55:08 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@16415241]
2026-01-27 10:55:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 10:55:08 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 10:55:08 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 10:55:08 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 10:55:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5c10216f]
2026-01-27 10:55:08 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@317e9cf5]
2026-01-27 10:55:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 10:55:08 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 10:55:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 10:55:08 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 10:55:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 11, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 12, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [ReservationControllerTest], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:08 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:08 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 14, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 15, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [ReservationControllerTest], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 1]
2026-01-27 10:55:08 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 10:55:08 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 10:55:08 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 10:55:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@3e549525]
2026-01-27 10:55:08 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Kyttj tlle shkpostille on jo olemassa, timestamp=2026-01-27T10:55: (truncated)...]
2026-01-27 10:55:08 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Kyttj tlle shkpostille on jo olemassa]
2026-01-27 10:55:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [ReservationControllerTest], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [ReservationControllerTest], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 10:55:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 10:55:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 10:55:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@32b1d581]
2026-01-27 10:55:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Kyttj tlle shkpostille on jo olemassa, timestamp=2026-01-27T10:55: (truncated)...]
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Kyttj tlle shkpostille on jo olemassa]
2026-01-27 10:55:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [ReservationControllerTest], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [ReservationControllerTest], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 10:55:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 10:55:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 10:55:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@46d7c4d0]
2026-01-27 10:55:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Kyttj tlle shkpostille on jo olemassa, timestamp=2026-01-27T10:55: (truncated)...]
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Kyttj tlle shkpostille on jo olemassa]
2026-01-27 10:55:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [ReservationControllerTest], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [ReservationControllerTest], method [testCreateReservation], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 10:55:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 10:55:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 10:55:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@aa7bda6]
2026-01-27 10:55:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Kyttj tlle shkpostille on jo olemassa, timestamp=2026-01-27T10:55: (truncated)...]
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Kyttj tlle shkpostille on jo olemassa]
2026-01-27 10:55:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [ReservationControllerTest], method [testCreateReservation], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [ReservationControllerTest], method [testCreateReservationInvalidTime], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 10:55:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 10:55:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 10:55:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7ffe0471]
2026-01-27 10:55:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Kyttj tlle shkpostille on jo olemassa, timestamp=2026-01-27T10:55: (truncated)...]
2026-01-27 10:55:09 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Kyttj tlle shkpostille on jo olemassa]
2026-01-27 10:55:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [ReservationControllerTest], method [testCreateReservationInvalidTime], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 10:55:09 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@b225c59 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 1]
2026-01-27 10:55:09 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [ReservationControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 10:55:10 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7c816f46, started on Tue Jan 27 10:54:59 EET 2026
2026-01-27 10:55:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 10:55:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 10:55:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 10:55:10 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:11:23 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 11:11:23 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 34636 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 11:11:23 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 11:11:23 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-01-27 11:11:23 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6622a690
2026-01-27 11:11:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 11:11:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 146 ms. Found 3 JPA repository interfaces.
2026-01-27 11:11:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 11:11:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 11:11:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 11:11:29 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 11:11:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 11:11:30 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 127 common frames omitted
2026-01-27 11:11:30 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
2026-01-27 11:11:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 11:11:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 11:11:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 11:11:32 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 11:11:32 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
2026-01-27 11:11:32 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The connection attempt failed.
2026-01-27 11:11:32 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 11:11:32 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 11:11:32 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-27 11:11:32 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 93 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 97 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 117 common frames omitted
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 11:11:33 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.backend.BackendApplicationTests@63541cd4]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@c3a1d7f testClass = com.example.backend.BackendApplicationTests, locations = [], classes = [com.example.backend.BackendApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@24569dba, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7188af83, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@433defed, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@43f02ef2, org.springframework.boot.test.context.SpringBootTestAnnotation@d5678dfd], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 93 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 97 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 117 common frames omitted
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 11:11:33 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest]: ReservationControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:11:33 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:33 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]: DeleteReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:11:33 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:33 [main] INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2026-01-27 11:11:33 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 34636 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 11:11:33 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 11:11:33 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-01-27 11:11:33 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@560c3758
2026-01-27 11:11:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 11:11:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 3 JPA repository interfaces.
2026-01-27 11:11:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 11:11:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 11:11:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 11:11:35 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-01-27 11:11:35 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 11:11:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 11:11:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:11:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:11:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:11:35 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:11:35 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-01-27 11:11:35 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigserial not null,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:11:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:11:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 11:11:37 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c763fee6-627f-4a98-939e-a2be43270492

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-27 11:11:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 24 mappings in 'requestMappingHandlerMapping'
2026-01-27 11:11:38 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27 11:11:38 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-27 11:11:38 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19e552a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5091456c, org.springframework.security.web.context.SecurityContextHolderFilter@453ca7f, org.springframework.security.web.header.HeaderWriterFilter@7d3a9061, org.springframework.web.filter.CorsFilter@45c57dbd, org.springframework.security.web.authentication.logout.LogoutFilter@f573dcb, com.example.backend.security.AuthTokenFilter@5c0d876c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@292237cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60035f1e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22a5f12, org.springframework.security.web.session.SessionManagementFilter@11736ebc, org.springframework.security.web.access.ExceptionTranslationFilter@771c4015, org.springframework.security.web.access.intercept.AuthorizationFilter@1766b7]
2026-01-27 11:11:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27 11:11:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27 11:11:40 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-27 11:11:40 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-01-27 11:11:40 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 11:11:40 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 11:11:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected StandardServletMultipartResolver
2026-01-27 11:11:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-27 11:11:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected FixedThemeResolver
2026-01-27 11:11:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4dbf902
2026-01-27 11:11:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@78f649d3
2026-01-27 11:11:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27 11:11:40 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 2 ms
2026-01-27 11:11:40 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 6.916 seconds (process running for 19.734)
2026-01-27 11:11:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 2, failureCount = 1]
2026-01-27 11:11:40 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:40 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 2, failureCount = 1]
2026-01-27 11:11:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 2, failureCount = 1]
2026-01-27 11:11:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 2, failureCount = 1]
2026-01-27 11:11:40 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:40 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 2, failureCount = 1]
2026-01-27 11:11:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 2, failureCount = 1]
2026-01-27 11:11:40 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 2, failureCount = 1]
2026-01-27 11:11:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 2, failureCount = 1]
2026-01-27 11:11:41 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:41 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:41 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:41 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:41 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:41 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4b85a64]
2026-01-27 11:11:41 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@140db646]
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:42 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4630c2e5]
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5c2fb167]
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:41.629244100, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='813e6a9b-a406-4511-940b-2ee4f3165e11', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/813e6a9b-a406-4511-940b-2ee4f3165e11
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/813e6a9b-a406-4511-940b-2ee4f3165e11
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - DELETE "/api/reservations/813e6a9b-a406-4511-940b-2ee4f3165e11", parameters={}
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 204 NO_CONTENT
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/813e6a9b-a406-4511-940b-2ee4f3165e11
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/813e6a9b-a406-4511-940b-2ee4f3165e11
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/813e6a9b-a406-4511-940b-2ee4f3165e11", parameters={}
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: 813e6a9b-a406-4511-940b-2ee4f3165e11, timestam (truncated)...]
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: 813e6a9b-a406-4511-940b-2ee4f3165e11]
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 11, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 12, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 14, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 15, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:42 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:42 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:42 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 1]
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:42 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@e86c9a5]
2026-01-27 11:11:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5dea8bf2]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@45ef4dcb]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3fa27158]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - DELETE "/api/reservations/non-existent-id", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:11:43 (truncated)...]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7cdd8582]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3693deae]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@6f3af541]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@398e1a48]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:43.314586, endTime=2026-01-27T1 (truncated)...]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='aeed99a0-9d35-494f-8cee-b119635134fa', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/aeed99a0-9d35-494f-8cee-b119635134fa
2026-01-27 11:11:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:43 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [DeleteReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:11:43 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]: UpdateReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:11:43 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [UpdateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@726c1889]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@33260ecd]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@626db270]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@244ba147]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 1]
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:43.623522900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='251c3d75-2d0b-4edc-aaf1-3894cf59ade2', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/251c3d75-2d0b-4edc-aaf1-3894cf59ade2
2026-01-27 11:11:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/251c3d75-2d0b-4edc-aaf1-3894cf59ade2
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/251c3d75-2d0b-4edc-aaf1-3894cf59ade2", parameters={}
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:11:43.623522900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:43 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='251c3d75-2d0b-4edc-aaf1-3894cf59ade2', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationConflict], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@16768389]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@617196dc]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@14bc9d25]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@8d95ac8]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:44.061069800, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='85852589-7f95-4791-bc02-f73a00adf0a5', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:11:44.061069800, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7acfa4a1-6063-4051-b57c-9a9525e758a0', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/85852589-7f95-4791-bc02-f73a00adf0a5
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/85852589-7f95-4791-bc02-f73a00adf0a5
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/85852589-7f95-4791-bc02-f73a00adf0a5", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T14:41:44.061069800, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-01-27T11:11:44.384 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationConflict], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationInvalidData], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@924c964]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@ef10390]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@57e8714b]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5e4c74ec]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:44.421727400, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='327d8204-895c-4545-8d66-458414fe13e6', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/327d8204-895c-4545-8d66-458414fe13e6
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/327d8204-895c-4545-8d66-458414fe13e6
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/327d8204-895c-4545-8d66-458414fe13e6", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T10:11:44.660759, endTime=2026-01-27T1 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydess., timestamp=2026- (truncated)...]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydess.]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationInvalidData], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2f6acdcc]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6342aaab]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@223a5a4b]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@651eefb3]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-01-27 11:11:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/non-existent-id", parameters={}
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:44.695655500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:11:44 (truncated)...]
2026-01-27 11:11:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:11:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [UpdateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$GetReservationById]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:11:44 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$GetReservationById]: GetReservationById does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:11:44 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [GetReservationById], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:11:44 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 1]
2026-01-27 11:11:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationById], method [testGetReservationByIdNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@48799b86]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@627b9f03]
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@1713f25b]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@479875b1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/non-existent-id", parameters={}
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:11:45 (truncated)...]
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationById], method [testGetReservationByIdNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationById], method [testGetReservationById], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7b968647]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@23c21550]
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4033d25d]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@b940d24]
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:45.428667700, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b8379d4d-3ed8-4b9b-ad22-fe714a558543', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/b8379d4d-3ed8-4b9b-ad22-fe714a558543
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/b8379d4d-3ed8-4b9b-ad22-fe714a558543
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/b8379d4d-3ed8-4b9b-ad22-fe714a558543", parameters={}
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b8379d4d-3ed8-4b9b-ad22-fe714a558543', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationById], method [testGetReservationById], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [GetReservationById], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$CreateReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:11:45 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$CreateReservation]: CreateReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:11:45 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [CreateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationInvalidTimePast], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 1]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:45 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@48306cc8]
2026-01-27 11:11:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@26dcce41]
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@328f4e46]
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7bd03562]
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T09:11:46.454668300, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydess., timestamp=2026-01-27T11:11:46. (truncated)...]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydess.]
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationInvalidTimePast], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@21721fc6]
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@cb7ec2c]
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5e491535]
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6281f945]
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Pttymisaika on pakol (truncated)...]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Pttymisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Kyttjn nimi on pakollinen]] ]
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 1]
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@8b5de1b]
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@545bdccb]
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:46 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2429992a]
2026-01-27 11:11:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@11f237b3]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:46.758995200, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='57462d92-9281-48d3-abe5-6c8d64986de0', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:41:46.758995200, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-01-27T11:11:47.0 (truncated)...]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@66da0ab7]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6ad57ee3]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@49702efb]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@70ea72e]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:47.074778900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='f335261f-5b3e-4cf2-844e-41e65513b8de', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationInvalidTimeOrder], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6d5dbf38]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@554d0ec1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5b2f8813]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@464de3f6]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T14:11:47.341242600, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Pttymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-01-2 (truncated)...]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Pttymisaika ei voi olla alkamisaikaa ennen.]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationInvalidTimeOrder], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5c84805a]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3391a67f]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3ecf180]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3c7b9ee3]
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationConsecutiveSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 1]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:47 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@60c2c015]
2026-01-27 11:11:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4dca87cb]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@71ad18e6]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@273ea660]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:47.943901300, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='46e33290-c4b4-4b1f-9e58-2b56c1a05bad', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T14:11:47.943901300, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='33219379-4fb5-41a8-9a5e-dee440751432', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationConsecutiveSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [CreateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:11:48 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]: GetReservationsByRoom does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:11:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [GetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@627beb93]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@45e5212f]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2534229]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@42994d28]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:11:48.258038900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='de5097a7-34dc-4218-9542-a976e88ab23f', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:11:48.258038900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='f0932567-a7c4-4538-adba-b1ebda864b31', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='de5097a7-34dc-4218-9542-a976e88ab23f', roomId='room-1', startTime=2026-01-2 (truncated)...]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoomEmpty], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@60157589]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@59e6705f]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@bf29f54]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@46646e38]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoomEmpty], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoomNoReservations], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 1]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:11:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2fce34e4]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5aa9fdc2]
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:11:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:11:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:11:48 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:11:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@436d140d]
2026-01-27 11:11:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:11:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@65820758]
2026-01-27 11:11:49 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-01-27 11:11:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-01-27 11:11:49 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/non-existent-room", parameters={}
2026-01-27 11:11:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:11:49 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:11:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:11:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 11:11:49 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoomNoReservations], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:49 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [GetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@7054b8a1 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 1]
2026-01-27 11:11:49 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [ReservationControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:11:49 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@560c3758, started on Tue Jan 27 11:11:33 EET 2026
2026-01-27 11:11:49 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:11:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:11:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:11:49 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:13:13 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 11:13:13 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 33468 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 11:13:13 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 11:13:13 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-01-27 11:13:13 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6622a690
2026-01-27 11:13:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 11:13:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 100 ms. Found 3 JPA repository interfaces.
2026-01-27 11:13:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 11:13:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 11:13:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 11:13:19 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 11:13:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 11:13:20 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 127 common frames omitted
2026-01-27 11:13:20 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
2026-01-27 11:13:20 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 11:13:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 11:13:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 11:13:23 [main] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 11:13:23 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
2026-01-27 11:13:23 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The connection attempt failed.
2026-01-27 11:13:23 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 11:13:23 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 11:13:23 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-27 11:13:23 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 93 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 97 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 117 common frames omitted
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 11:13:23 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.backend.BackendApplicationTests@f5b4ca6]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4d3bde85 testClass = com.example.backend.BackendApplicationTests, locations = [], classes = [com.example.backend.BackendApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@24569dba, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7188af83, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@433defed, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@43f02ef2, org.springframework.boot.test.context.SpringBootTestAnnotation@d5678dfd], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:214)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1716)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:570)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:315)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:803)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:106)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:105)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1604)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 73 common frames omitted
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 93 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 97 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 117 common frames omitted
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 131 common frames omitted
2026-01-27 11:13:23 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest]: ReservationControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:13:23 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:23 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$CreateReservation]: CreateReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:13:23 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:23 [main] INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2026-01-27 11:13:24 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 33468 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 11:13:24 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 11:13:24 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-01-27 11:13:24 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@508abc74
2026-01-27 11:13:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 11:13:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 48 ms. Found 3 JPA repository interfaces.
2026-01-27 11:13:26 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 11:13:26 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 11:13:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 11:13:27 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-01-27 11:13:27 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 11:13:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 11:13:27 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:13:27 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:13:27 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:13:27 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:13:27 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-01-27 11:13:27 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigserial not null,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:13:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:13:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 11:13:29 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 59dda415-70b6-4258-aef2-abc95f5c2bb1

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-27 11:13:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 24 mappings in 'requestMappingHandlerMapping'
2026-01-27 11:13:30 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27 11:13:31 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-27 11:13:31 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62cad0e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1659a0ff, org.springframework.security.web.context.SecurityContextHolderFilter@40f40221, org.springframework.security.web.header.HeaderWriterFilter@50a1c2f3, org.springframework.web.filter.CorsFilter@1398e3aa, org.springframework.security.web.authentication.logout.LogoutFilter@33dcbdc2, com.example.backend.security.AuthTokenFilter@51aa8c0f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76480730, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e7b7395, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@531bffd, org.springframework.security.web.session.SessionManagementFilter@3c6c87fa, org.springframework.security.web.access.ExceptionTranslationFilter@68f67bbd, org.springframework.security.web.access.intercept.AuthorizationFilter@2f3a3fec]
2026-01-27 11:13:32 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27 11:13:32 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27 11:13:33 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-27 11:13:33 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-01-27 11:13:33 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 11:13:33 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 11:13:33 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected StandardServletMultipartResolver
2026-01-27 11:13:33 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-27 11:13:33 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected FixedThemeResolver
2026-01-27 11:13:33 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@11501f90
2026-01-27 11:13:33 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@732f7660
2026-01-27 11:13:33 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27 11:13:33 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 4 ms
2026-01-27 11:13:33 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 9.616 seconds (process running for 22.102)
2026-01-27 11:13:33 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 2, failureCount = 1]
2026-01-27 11:13:33 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:33 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:33 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 2, failureCount = 1]
2026-01-27 11:13:33 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 2, failureCount = 1]
2026-01-27 11:13:33 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 2, failureCount = 1]
2026-01-27 11:13:33 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:33 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:33 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 2, failureCount = 1]
2026-01-27 11:13:33 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 2, failureCount = 1]
2026-01-27 11:13:33 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationInvalidTimePast], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:33 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 2, failureCount = 1]
2026-01-27 11:13:33 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 2, failureCount = 1]
2026-01-27 11:13:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:35 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@55fee98a]
2026-01-27 11:13:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7261773c]
2026-01-27 11:13:35 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:35 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@24fe3184]
2026-01-27 11:13:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@36d28b4c]
2026-01-27 11:13:35 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:35 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 2, failureCount = 1]
2026-01-27 11:13:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T09:13:35.933810500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydess., timestamp=2026-01-27T11:13:36. (truncated)...]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydess.]
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 11, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 12, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 14, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 15, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationInvalidTimePast], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@12046998]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5fddd0fc]
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@682d0957]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2f49d34d]
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Pttymisaika on pakol (truncated)...]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Kyttjn nimi on pakollinen]] [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Pttymisaika on pakollinen]] ]
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@51aae61a]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6d60c9e6]
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5fffbcd2]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5f10ee00]
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:36.479085700, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='440035a5-f6ff-4f6f-8ee8-0166d3b9c8d6', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:43:36.479085700, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-01-27T11:13:36.8 (truncated)...]
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 1]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:36 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4363f0ee]
2026-01-27 11:13:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5c2d3a5d]
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@632e4d5d]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5426c89f]
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:36.933105300, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='16dba989-62bf-49d6-aecb-089f1c554fdf', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationInvalidTimeOrder], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@673e239b]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@66579498]
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@7f7b865f]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4dac863d]
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T14:13:37.386327400, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Pttymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-01-2 (truncated)...]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Pttymisaika ei voi olla alkamisaikaa ennen.]
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationInvalidTimeOrder], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4a8d6ad4]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@42f7523d]
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@42ec207f]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5839bf99]
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:37 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationConsecutiveSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 1]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:37 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5406ce9f]
2026-01-27 11:13:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@17e99817]
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5fac8f7e]
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@91a7497]
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:37.931998400, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7d0d486d-7554-4bac-91a0-92e747b6b1a0', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T14:13:37.931998400, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='49d74262-8cf1-4c4e-b132-2944c689665d', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationConsecutiveSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [CreateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:13:38 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]: DeleteReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:13:38 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [DeleteReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@100a15a3]
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@713f5a17]
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@15769719]
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@73dbb666]
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:38 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 1]
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:38.271168400, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b2db39fa-8582-43f4-8d13-b4ffa83c57e9', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/b2db39fa-8582-43f4-8d13-b4ffa83c57e9
2026-01-27 11:13:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/b2db39fa-8582-43f4-8d13-b4ffa83c57e9
2026-01-27 11:13:38 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - DELETE "/api/reservations/b2db39fa-8582-43f4-8d13-b4ffa83c57e9", parameters={}
2026-01-27 11:13:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 204 NO_CONTENT
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/b2db39fa-8582-43f4-8d13-b4ffa83c57e9
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/b2db39fa-8582-43f4-8d13-b4ffa83c57e9
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/b2db39fa-8582-43f4-8d13-b4ffa83c57e9", parameters={}
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: b2db39fa-8582-43f4-8d13-b4ffa83c57e9, timestam (truncated)...]
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: b2db39fa-8582-43f4-8d13-b4ffa83c57e9]
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@48799b86]
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@627b9f03]
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@1713f25b]
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@479875b1]
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - DELETE "/api/reservations/non-existent-id", parameters={}
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:13:39 (truncated)...]
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 1]
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@12e75177]
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4033d25d]
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:39 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@cbb32f0]
2026-01-27 11:13:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@667dfd42]
2026-01-27 11:13:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:39.604629300, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='2ba48431-110d-4c95-911b-4264ebb72fdf', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/2ba48431-110d-4c95-911b-4264ebb72fdf
2026-01-27 11:13:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:40 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [DeleteReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$GetReservationById]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:13:40 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$GetReservationById]: GetReservationById does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:13:40 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [GetReservationById], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationById], method [testGetReservationByIdNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 1]
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@666e1965]
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@525984a1]
2026-01-27 11:13:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@15971523]
2026-01-27 11:13:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@48c8a84d]
2026-01-27 11:13:40 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:40 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/non-existent-id", parameters={}
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:13:41 (truncated)...]
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationById], method [testGetReservationByIdNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationById], method [testGetReservationById], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:41 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@31489acc]
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6232025]
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:41 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@28ef75c]
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6a4fb518]
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:41.158551500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='6c1889fe-5cf9-4330-acd7-4cf90194c824', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/6c1889fe-5cf9-4330-acd7-4cf90194c824
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/6c1889fe-5cf9-4330-acd7-4cf90194c824
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/6c1889fe-5cf9-4330-acd7-4cf90194c824", parameters={}
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='6c1889fe-5cf9-4330-acd7-4cf90194c824', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationById], method [testGetReservationById], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [GetReservationById], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:13:41 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]: GetReservationsByRoom does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:13:41 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [GetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 1]
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:41 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:41 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:41 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:41 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@bd211]
2026-01-27 11:13:41 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@77f4742b]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:42 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@39b3de87]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@27564996]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:41.948505400, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='5dce3b99-213e-42e6-83ac-8d430e423b83', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:13:41.948505400, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='05220c35-c505-478c-aacc-2f5f357df292', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='5dce3b99-213e-42e6-83ac-8d430e423b83', roomId='room-1', startTime=2026-01-2 (truncated)...]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoomEmpty], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:42 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1da9b95d]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2d7ee91c]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:42 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@56a2599a]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@551a7123]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoomEmpty], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoomNoReservations], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:42 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7843efc5]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@780d5822]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:42 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@79cab658]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@65e2cca9]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/non-existent-room", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoomNoReservations], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [GetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:13:42 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]: UpdateReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:13:42 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [UpdateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 1]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:42 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:42 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:42 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:42 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7b01900f]
2026-01-27 11:13:42 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@59f1a96c]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4002f09c]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5e9da956]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:42.957596900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='55f57f74-6e3b-47f5-8cf0-63fb6f4f8f2b', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/55f57f74-6e3b-47f5-8cf0-63fb6f4f8f2b
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/55f57f74-6e3b-47f5-8cf0-63fb6f4f8f2b
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/55f57f74-6e3b-47f5-8cf0-63fb6f4f8f2b", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:13:42.957596900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='55f57f74-6e3b-47f5-8cf0-63fb6f4f8f2b', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationConflict], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7a7ae0e1]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@19edcb8e]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4eed10a1]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@64a768e7]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:43.368548500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='98fb5518-d14c-46ad-a72d-d0edb74717da', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:13:43.368548500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='1e9431da-fc4a-466b-bf04-be73ce5c937d', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/98fb5518-d14c-46ad-a72d-d0edb74717da
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/98fb5518-d14c-46ad-a72d-d0edb74717da
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/98fb5518-d14c-46ad-a72d-d0edb74717da", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T14:43:43.368548500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-01-27T11:13:43.676 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationConflict], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationInvalidData], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7d2410af]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5d81c34a]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@66968a15]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@604d0523]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:43.701145800, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='eaff61bc-ef52-4c91-a7b2-66fa43c3949d', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/eaff61bc-ef52-4c91-a7b2-66fa43c3949d
2026-01-27 11:13:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/eaff61bc-ef52-4c91-a7b2-66fa43c3949d
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/eaff61bc-ef52-4c91-a7b2-66fa43c3949d", parameters={}
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T10:13:43.961074800, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydess., timestamp=2026- (truncated)...]
2026-01-27 11:13:43 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydess.]
2026-01-27 11:13:43 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationInvalidData], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 1]
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:13:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:13:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:13:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:13:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1bbdd4a9]
2026-01-27 11:13:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:13:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3580dd47]
2026-01-27 11:13:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:13:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:13:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:13:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:13:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@6942d9bc]
2026-01-27 11:13:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@650e9dca]
2026-01-27 11:13:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-01-27 11:13:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-01-27 11:13:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/non-existent-id", parameters={}
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:13:44.012236100, endTime=2026-01-2 (truncated)...]
2026-01-27 11:13:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:13:44 (truncated)...]
2026-01-27 11:13:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:13:44 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:44 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [UpdateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:44 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@6896ef29 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 1]
2026-01-27 11:13:44 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [ReservationControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:13:44 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@508abc74, started on Tue Jan 27 11:13:24 EET 2026
2026-01-27 11:13:44 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:13:44 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:13:44 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:13:44 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:17:38 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 11:17:38 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 17.0.17 with PID 14128 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 11:17:38 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 11:17:38 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-01-27 11:17:38 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7dcc91fd
2026-01-27 11:17:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 11:17:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 125 ms. Found 3 JPA repository interfaces.
2026-01-27 11:17:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 11:17:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 11:17:47 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 11:17:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 11:17:48 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-01-27 11:17:48 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 11:17:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 11:17:50 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:17:50 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:17:50 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:17:50 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:17:50 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-01-27 11:17:50 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigserial not null,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:17:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:17:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 11:17:52 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 48e01c00-4958-4e67-816a-22ba21098926

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-27 11:17:52 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 24 mappings in 'requestMappingHandlerMapping'
2026-01-27 11:17:53 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27 11:17:54 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-27 11:17:54 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cb641a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71077d1, org.springframework.security.web.context.SecurityContextHolderFilter@e4b9a64, org.springframework.security.web.header.HeaderWriterFilter@674b2703, org.springframework.web.filter.CorsFilter@36e7b91c, org.springframework.security.web.authentication.logout.LogoutFilter@2fedfff1, com.example.backend.security.AuthTokenFilter@4cf1ec2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a3c541e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b7600ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@630a647c, org.springframework.security.web.session.SessionManagementFilter@7cba8293, org.springframework.security.web.access.ExceptionTranslationFilter@1a6ab328, org.springframework.security.web.access.intercept.AuthorizationFilter@36c763cd]
2026-01-27 11:17:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27 11:17:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27 11:17:56 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 19.025 seconds (process running for 25.196)
2026-01-27 11:17:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1, failureCount = 0]
2026-01-27 11:17:56 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.BackendApplicationTests
2026-01-27 11:17:56 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.BackendApplicationTests
2026-01-27 11:17:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1, failureCount = 0]
2026-01-27 11:17:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1, failureCount = 0]
2026-01-27 11:17:56 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [BackendApplicationTests], method [contextLoads], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:17:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1, failureCount = 0]
2026-01-27 11:17:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 11, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 12, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [BackendApplicationTests], method [contextLoads], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:17:57 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.BackendApplicationTests
2026-01-27 11:17:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@63cfd703 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 1, failureCount = 0]
2026-01-27 11:17:57 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [BackendApplicationTests], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:17:57 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7dcc91fd, started on Tue Jan 27 11:17:38 EET 2026
2026-01-27 11:17:57 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:17:57 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:17:57 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:17:57 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:47:38 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 11:47:38 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 20012 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 11:47:38 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 11:47:38 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-01-27 11:47:38 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@27ead29e
2026-01-27 11:47:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 11:47:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 190 ms. Found 3 JPA repository interfaces.
2026-01-27 11:47:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 11:47:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 11:47:43 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 11:47:43 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 11:47:44 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-01-27 11:47:44 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 11:47:45 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 11:47:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:47:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:47:45 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:47:45 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:47:45 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-01-27 11:47:45 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigserial not null,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:47:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:47:47 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 11:47:47 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 45e76903-3e47-4b7a-9715-30c474ed33e6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-27 11:47:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 24 mappings in 'requestMappingHandlerMapping'
2026-01-27 11:47:48 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27 11:47:48 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-27 11:47:48 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40fd25c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18ce7872, org.springframework.security.web.context.SecurityContextHolderFilter@5fe7454c, org.springframework.security.web.header.HeaderWriterFilter@592e315e, org.springframework.web.filter.CorsFilter@136c3a6, org.springframework.security.web.authentication.logout.LogoutFilter@3cdafb82, com.example.backend.security.AuthTokenFilter@4e7b89b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1469015e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6296c184, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54bf2319, org.springframework.security.web.session.SessionManagementFilter@643bef2a, org.springframework.security.web.access.ExceptionTranslationFilter@616d9a6d, org.springframework.security.web.access.intercept.AuthorizationFilter@5f804b36]
2026-01-27 11:47:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27 11:47:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27 11:47:49 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 12.663 seconds (process running for 15.323)
2026-01-27 11:47:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1, failureCount = 0]
2026-01-27 11:47:49 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.BackendApplicationTests
2026-01-27 11:47:49 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.BackendApplicationTests
2026-01-27 11:47:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1, failureCount = 0]
2026-01-27 11:47:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1, failureCount = 0]
2026-01-27 11:47:49 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [BackendApplicationTests], method [contextLoads], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1, failureCount = 0]
2026-01-27 11:47:49 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 11, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 12, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [BackendApplicationTests], method [contextLoads], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.BackendApplicationTests
2026-01-27 11:47:50 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 1, failureCount = 0]
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [BackendApplicationTests], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$GetReservationById]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$CreateReservation]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 11:47:50 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest]: ReservationControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:47:50 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [ReservationControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:47:50 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]: DeleteReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:47:50 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:47:50 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [DeleteReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:50 [main] INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2026-01-27 11:47:50 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 20012 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 11:47:50 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 11:47:50 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-01-27 11:47:50 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2b1aa390
2026-01-27 11:47:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 11:47:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 3 JPA repository interfaces.
2026-01-27 11:47:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 11:47:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 11:47:52 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 11:47:52 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-01-27 11:47:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 11:47:52 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 11:47:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:47:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:47:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:47:52 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:47:52 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-01-27 11:47:52 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigserial not null,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-01-27 11:47:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:47:52 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 11:47:53 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 75d8c7eb-49e1-4d35-a6ef-ad15c4ab7fd7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-27 11:47:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 24 mappings in 'requestMappingHandlerMapping'
2026-01-27 11:47:53 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27 11:47:53 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-27 11:47:53 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@211b2a2c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b4a5691, org.springframework.security.web.context.SecurityContextHolderFilter@72584c3f, org.springframework.security.web.header.HeaderWriterFilter@6392ecbc, org.springframework.web.filter.CorsFilter@6e236542, org.springframework.security.web.authentication.logout.LogoutFilter@1b272037, com.example.backend.security.AuthTokenFilter@44264fb6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34a91445, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1290fc6a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fd18007, org.springframework.security.web.session.SessionManagementFilter@6d4f29a4, org.springframework.security.web.access.ExceptionTranslationFilter@63cf0da6, org.springframework.security.web.access.intercept.AuthorizationFilter@6761bb4d]
2026-01-27 11:47:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27 11:47:53 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27 11:47:54 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-27 11:47:54 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-01-27 11:47:54 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 11:47:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 11:47:54 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected StandardServletMultipartResolver
2026-01-27 11:47:54 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-27 11:47:54 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected FixedThemeResolver
2026-01-27 11:47:54 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1f93cdc0
2026-01-27 11:47:54 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@19ad99fa
2026-01-27 11:47:54 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27 11:47:54 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 4 ms
2026-01-27 11:47:54 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 3.491 seconds (process running for 20.1)
2026-01-27 11:47:54 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 2, failureCount = 0]
2026-01-27 11:47:54 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:54 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:54 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 14, missCount = 2, failureCount = 0]
2026-01-27 11:47:54 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 15, missCount = 2, failureCount = 0]
2026-01-27 11:47:54 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2026-01-27 11:47:54 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:54 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:54 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2026-01-27 11:47:54 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2026-01-27 11:47:54 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:54 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2026-01-27 11:47:54 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2026-01-27 11:47:54 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:54 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:54 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:54 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:54 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:54 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:54 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:54 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@3003b9ad]
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@44ccebf1]
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:55 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@1613b471]
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@73e9d4d0]
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:54.630891, endTime=2026-01-27T1 (truncated)...]
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='02ffd9e0-d49c-4c79-b16e-c45df6cee101', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/02ffd9e0-d49c-4c79-b16e-c45df6cee101
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/02ffd9e0-d49c-4c79-b16e-c45df6cee101
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - DELETE "/api/reservations/02ffd9e0-d49c-4c79-b16e-c45df6cee101", parameters={}
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 204 NO_CONTENT
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/02ffd9e0-d49c-4c79-b16e-c45df6cee101
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/02ffd9e0-d49c-4c79-b16e-c45df6cee101
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/02ffd9e0-d49c-4c79-b16e-c45df6cee101", parameters={}
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: 02ffd9e0-d49c-4c79-b16e-c45df6cee101, timestam (truncated)...]
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: 02ffd9e0-d49c-4c79-b16e-c45df6cee101]
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:55 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:55 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:55 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:55 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:55 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:55 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:55 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:55 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@436d140d]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@98a954a]
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:56 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4d37a098]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@456454e0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - DELETE "/api/reservations/non-existent-id", parameters={}
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:47:56 (truncated)...]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:56 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5cf24f99]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4a645ebb]
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:56 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@56eb8c30]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@17aadd1c]
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:56.299764600, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='848a9b07-4d20-4687-b611-9a198da439be', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/848a9b07-4d20-4687-b611-9a198da439be
2026-01-27 11:47:56 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:56 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [DeleteReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:47:56 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]: UpdateReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:47:56 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [UpdateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:56 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@326451bf]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2481db83]
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:56 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@532a48d4]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@fbcba93]
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:56 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:56 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:56 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:56.610796500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:56 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:56 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='9e112cf4-eda4-4f68-8d45-ee565ad98f8b', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/9e112cf4-eda4-4f68-8d45-ee565ad98f8b
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/9e112cf4-eda4-4f68-8d45-ee565ad98f8b
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/9e112cf4-eda4-4f68-8d45-ee565ad98f8b", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:47:56.610796500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='9e112cf4-eda4-4f68-8d45-ee565ad98f8b', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationConflict], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:57 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@77e55368]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@58409751]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:57 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@9be2619]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@31c8bd8b]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:57.144031200, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='3f5f625a-2e5f-4f72-be89-18b5d0055fce', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:47:57.144031200, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='5bfde644-ff47-4436-93bf-1ea73ece3e7c', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/3f5f625a-2e5f-4f72-be89-18b5d0055fce
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/3f5f625a-2e5f-4f72-be89-18b5d0055fce
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/3f5f625a-2e5f-4f72-be89-18b5d0055fce", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:17:57.144031200, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-01-27T11:47:57.419 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationConflict], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationInvalidData], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:57 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7c532e54]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@50e60544]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:57 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@334f130d]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4aa037e6]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:57.440562100, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='12b11a28-011a-48e3-982f-c71fd6d16b55', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/12b11a28-011a-48e3-982f-c71fd6d16b55
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/12b11a28-011a-48e3-982f-c71fd6d16b55
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/12b11a28-011a-48e3-982f-c71fd6d16b55", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T10:47:57.774400500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydess., timestamp=2026- (truncated)...]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydess.]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationInvalidData], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:57 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1444fa42]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3efadd2d]
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:57 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:57 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:57 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:57 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@72956e6f]
2026-01-27 11:47:57 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3776a2f2]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/non-existent-id", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:57.810529800, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:47:58 (truncated)...]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [UpdateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$GetReservationById]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:47:58 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$GetReservationById]: GetReservationById does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:47:58 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [GetReservationById], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationById], method [testGetReservationByIdNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:58 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@75ee4105]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@50099588]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:58 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5471182c]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@dff0458]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/non-existent-id", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T11:47:58 (truncated)...]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationById], method [testGetReservationByIdNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationById], method [testGetReservationById], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:58 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@611f82a8]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@44185116]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:58 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@42e52d94]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@9e46050]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:58.479247500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b242d863-e0d1-43c2-ad5f-577210612045', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/b242d863-e0d1-43c2-ad5f-577210612045
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/b242d863-e0d1-43c2-ad5f-577210612045
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/b242d863-e0d1-43c2-ad5f-577210612045", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b242d863-e0d1-43c2-ad5f-577210612045', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationById], method [testGetReservationById], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [GetReservationById], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$CreateReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:47:58 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$CreateReservation]: CreateReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:47:58 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [CreateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationInvalidTimePast], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:58 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4474a287]
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:58 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:58 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6d340d36]
2026-01-27 11:47:58 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:58 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:58 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3cebe931]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1aeedc01]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T09:47:59.230940, endTime=2026-01-27T1 (truncated)...]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydess., timestamp=2026-01-27T11:47:59. (truncated)...]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydess.]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationInvalidTimePast], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:59 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@69f2cff6]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6537c17c]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:59 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2ff89271]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4da093f5]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Pttymisaika on pakol (truncated)...]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Pttymisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Kyttjn nimi on pakollinen]] [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] ]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:59 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4887a689]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@11db4d00]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:59 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5bd5ace9]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6e609e8a]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:59.596470500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='8cc9d94d-7376-4799-a3ec-934b2b16878e', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:17:59.596470500, endTime=2026-01-2 (truncated)...]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-01-27T11:47:59.8 (truncated)...]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:47:59 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@24fb3e2a]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2fe172fe]
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:47:59 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:47:59 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:47:59 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:47:59 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@50bb6465]
2026-01-27 11:47:59 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@e0d5388]
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:47:59.862949900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='e4340349-8948-4868-8ba4-2ddebe42c4f4', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationInvalidTimeOrder], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:48:00 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2ecc303c]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7ae76b2]
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:48:00 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@76928be0]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@122de194]
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T14:48:00.134195300, endTime=2026-01-2 (truncated)...]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Pttymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-01-2 (truncated)...]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Pttymisaika ei voi olla alkamisaikaa ennen.]
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationInvalidTimeOrder], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:48:00 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@3328d00b]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7b73b5c9]
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:48:00 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4a402ba3]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7a792f64]
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:48:00 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:00 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationConsecutiveSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:48:00 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@633c9699]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4a5c29dc]
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:48:00 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:00 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:48:00 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:48:00 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2f90ad92]
2026-01-27 11:48:00 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5b6dc76c]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:48:00.830292900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='a689c4f4-86ce-4faf-9084-2af43e9855d8', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T14:48:00.830292900, endTime=2026-01-2 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-01-27T11:48:01.0 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationConsecutiveSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [CreateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 11:48:01 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]: GetReservationsByRoom does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 11:48:01 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [GetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:48:01 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@38421084]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@197d38a]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:48:01 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@55f066b4]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2396e6e1]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T12:48:01.136022800, endTime=2026-01-2 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='36a33bfb-2a78-48cd-8fc2-42cf57e40431', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:48:01.136022800, endTime=2026-01-2 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='6210584b-24ee-46ec-9a03-42e6c9e8eb57', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='36a33bfb-2a78-48cd-8fc2-42cf57e40431', roomId='room-1', startTime=2026-01-2 (truncated)...]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoomEmpty], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:48:01 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2c107b94]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@10b51115]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:48:01 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@56967355]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1c7294c]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoomEmpty], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoomNoReservations], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 11:48:01 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@541d5c48]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@57e21ffb]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 11:48:01 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2022e444]
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7b6bf067]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-01-27 11:48:01 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/non-existent-room", parameters={}
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 11:48:01 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 11:48:01 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 11:48:01 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoomNoReservations], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [GetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:01 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@4cc070c2 size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2026-01-27 11:48:01 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [ReservationControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 11:48:02 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@27ead29e, started on Tue Jan 27 11:47:38 EET 2026
2026-01-27 11:48:02 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:48:02 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:48:02 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:48:02 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:48:02 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2b1aa390, started on Tue Jan 27 11:47:50 EET 2026
2026-01-27 11:48:02 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 11:48:02 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 11:48:02 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 11:48:02 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 11:59:18 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 11:59:18 [restartedMain] INFO  c.example.backend.BackendApplication - Starting BackendApplication using Java 25.0.1 with PID 3640 (C:\Users\sami_\Tiedostot\dev\reservation\backend\target\classes started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 11:59:18 [restartedMain] DEBUG c.example.backend.BackendApplication - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 11:59:18 [restartedMain] INFO  c.example.backend.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-27 11:59:18 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-27 11:59:18 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-27 11:59:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 11:59:20 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 3 JPA repository interfaces.
2026-01-27 11:59:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-27 11:59:21 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-27 11:59:21 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-27 11:59:21 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2026-01-27 11:59:21 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-27 11:59:21 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3268 ms
2026-01-27 11:59:21 [restartedMain] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-01-27 11:59:21 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-27 11:59:22 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 11:59:22 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 11:59:22 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 11:59:22 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 11:59:22 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 11:59:23 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 52 common frames omitted
2026-01-27 11:59:23 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2026-01-27 11:59:23 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 11:59:24 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 11:59:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 11:59:25 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 56 common frames omitted
2026-01-27 11:59:25 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
2026-01-27 11:59:25 [restartedMain] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The connection attempt failed.
2026-01-27 11:59:25 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 11:59:25 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 11:59:25 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-01-27 11:59:25 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-27 11:59:26 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 18 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 22 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 42 common frames omitted
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 56 common frames omitted
2026-01-27 12:01:55 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 12:01:55 [restartedMain] INFO  c.example.backend.BackendApplication - Starting BackendApplication using Java 25.0.1 with PID 32848 (C:\Users\sami_\Tiedostot\dev\reservation\backend\target\classes started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 12:01:55 [restartedMain] DEBUG c.example.backend.BackendApplication - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 12:01:55 [restartedMain] INFO  c.example.backend.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-27 12:01:55 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-27 12:01:55 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-27 12:01:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 12:01:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 3 JPA repository interfaces.
2026-01-27 12:01:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-27 12:01:57 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-27 12:01:57 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-27 12:01:57 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2026-01-27 12:01:57 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-27 12:01:57 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2505 ms
2026-01-27 12:01:58 [restartedMain] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-01-27 12:01:58 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-27 12:01:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 12:01:58 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 12:01:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 12:01:58 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 12:01:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 12:02:00 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 52 common frames omitted
2026-01-27 12:02:00 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.NullPointerException: Cannot invoke "org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(java.sql.SQLException, String)" because the return value of "org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.sqlExceptionHelper()" is null
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2026-01-27 12:02:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 12:02:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 12:02:01 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 12:02:02 [restartedMain] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 56 common frames omitted
2026-01-27 12:02:02 [restartedMain] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
2026-01-27 12:02:02 [restartedMain] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The connection attempt failed.
2026-01-27 12:02:02 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 12:02:02 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2026-01-27 12:02:02 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-01-27 12:02:02 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-27 12:02:02 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 18 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:98)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:315)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:450)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1507)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 22 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:354)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:100)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 42 common frames omitted
Caused by: java.net.UnknownHostException: db.nnfscosanqifsaqpevqs.supabase.co
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:569)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:284)
	at java.base/java.net.Socket.connect(Socket.java:659)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 56 common frames omitted
2026-01-27 12:02:52 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 12:02:52 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 31528 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 12:02:52 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 12:02:52 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-01-27 12:02:52 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@27ead29e
2026-01-27 12:02:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 12:02:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 191 ms. Found 3 JPA repository interfaces.
2026-01-27 12:02:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 12:02:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 12:02:56 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 12:02:57 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 12:02:57 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-01-27 12:02:57 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 12:02:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 12:02:59 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 12:02:59 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 12:02:59 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 12:02:59 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-01-27 12:02:59 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-01-27 12:02:59 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigserial not null,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-01-27 12:02:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 12:03:00 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 12:03:00 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 0b48f00a-ab82-4e54-b9af-1599f23bc001

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-27 12:03:00 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 24 mappings in 'requestMappingHandlerMapping'
2026-01-27 12:03:01 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27 12:03:01 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-27 12:03:01 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e18a6a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@505e483f, org.springframework.security.web.context.SecurityContextHolderFilter@3ea95f79, org.springframework.security.web.header.HeaderWriterFilter@2d33aa31, org.springframework.web.filter.CorsFilter@f81bd2c, org.springframework.security.web.authentication.logout.LogoutFilter@47db5b8f, com.example.backend.security.AuthTokenFilter@5b01b3f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a02172a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62857555, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fedfff1, org.springframework.security.web.session.SessionManagementFilter@71c1e70f, org.springframework.security.web.access.ExceptionTranslationFilter@f7a8a7b, org.springframework.security.web.access.intercept.AuthorizationFilter@7d45e754]
2026-01-27 12:03:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27 12:03:02 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27 12:03:02 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 10.986 seconds (process running for 12.969)
2026-01-27 12:03:03 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1, failureCount = 0]
2026-01-27 12:03:03 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.BackendApplicationTests
2026-01-27 12:03:03 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.BackendApplicationTests
2026-01-27 12:03:03 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1, failureCount = 0]
2026-01-27 12:03:03 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1, failureCount = 0]
2026-01-27 12:03:03 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [BackendApplicationTests], method [contextLoads], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:03 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1, failureCount = 0]
2026-01-27 12:03:03 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 11, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 12, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [BackendApplicationTests], method [contextLoads], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.BackendApplicationTests
2026-01-27 12:03:04 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 1, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 1, failureCount = 0]
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [BackendApplicationTests], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$GetReservationById]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$CreateReservation]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.AnnotationConfigContextLoaderUtils - Ignoring class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]; it must be static, non-private, non-final, and annotated with @Configuration to be considered a default configuration class.
2026-01-27 12:03:04 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest]: ReservationControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 12:03:04 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [ReservationControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 12:03:04 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$DeleteReservation]: DeleteReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 12:03:04 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 12:03:04 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [DeleteReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:04 [main] INFO  o.s.b.d.r.RestartApplicationListener - Restart disabled due to context in which it is running
2026-01-27 12:03:04 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 31528 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 12:03:04 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 12:03:04 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-01-27 12:03:04 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5c807e6b
2026-01-27 12:03:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 12:03:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 3 JPA repository interfaces.
2026-01-27 12:03:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 12:03:06 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 12:03:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 12:03:06 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 2.2.0 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2026-01-27 12:03:06 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-01-27 12:03:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-27 12:03:06 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 12:03:06 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 12:03:06 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 12:03:06 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-01-27 12:03:06 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-01-27 12:03:06 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigserial not null,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-01-27 12:03:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 12:03:06 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-27 12:03:07 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 9bc4612b-db8c-4208-9674-5b27a3f2198a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-27 12:03:07 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 24 mappings in 'requestMappingHandlerMapping'
2026-01-27 12:03:07 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2026-01-27 12:03:07 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2026-01-27 12:03:07 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@57202722, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bc342f6, org.springframework.security.web.context.SecurityContextHolderFilter@2c4af3ae, org.springframework.security.web.header.HeaderWriterFilter@10b40e87, org.springframework.web.filter.CorsFilter@20c3be4c, org.springframework.security.web.authentication.logout.LogoutFilter@6e236542, com.example.backend.security.AuthTokenFilter@7b1466e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35a7c2cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cdbb5b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77d86aba, org.springframework.security.web.session.SessionManagementFilter@4b2be6f8, org.springframework.security.web.access.ExceptionTranslationFilter@72584c3f, org.springframework.security.web.access.intercept.AuthorizationFilter@75cb2090]
2026-01-27 12:03:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-01-27 12:03:08 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-01-27 12:03:08 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-27 12:03:08 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-01-27 12:03:08 [main] INFO  o.s.b.t.m.w.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2026-01-27 12:03:08 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
2026-01-27 12:03:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected StandardServletMultipartResolver
2026-01-27 12:03:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected AcceptHeaderLocaleResolver
2026-01-27 12:03:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected FixedThemeResolver
2026-01-27 12:03:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@348143e1
2026-01-27 12:03:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@26d63c94
2026-01-27 12:03:08 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2026-01-27 12:03:08 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 3 ms
2026-01-27 12:03:08 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 4.028 seconds (process running for 18.785)
2026-01-27 12:03:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 2, failureCount = 0]
2026-01-27 12:03:08 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:08 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 14, missCount = 2, failureCount = 0]
2026-01-27 12:03:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 15, missCount = 2, failureCount = 0]
2026-01-27 12:03:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 2, failureCount = 0]
2026-01-27 12:03:08 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:08 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 2, failureCount = 0]
2026-01-27 12:03:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 2, failureCount = 0]
2026-01-27 12:03:08 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2, failureCount = 0]
2026-01-27 12:03:08 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2, failureCount = 0]
2026-01-27 12:03:09 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1f837ac0]
2026-01-27 12:03:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:09 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@75f9ae0]
2026-01-27 12:03:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:09 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2ab632d]
2026-01-27 12:03:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6ec05499]
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:09.260117400, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='017b79dd-fee3-4709-b189-904bb0008159', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/017b79dd-fee3-4709-b189-904bb0008159
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/017b79dd-fee3-4709-b189-904bb0008159
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - DELETE "/api/reservations/017b79dd-fee3-4709-b189-904bb0008159", parameters={}
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 204 NO_CONTENT
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/017b79dd-fee3-4709-b189-904bb0008159
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/017b79dd-fee3-4709-b189-904bb0008159
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/017b79dd-fee3-4709-b189-904bb0008159", parameters={}
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: 017b79dd-fee3-4709-b189-904bb0008159, timestam (truncated)...]
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: 017b79dd-fee3-4709-b189-904bb0008159]
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 25, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 26, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 27, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 28, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:10 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:10 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 29, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 30, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 31, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:10 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 32, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 33, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 34, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 35, missCount = 2, failureCount = 0]
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:10 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@f501ed0]
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@13126d46]
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:10 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:10 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@53c1792d]
2026-01-27 12:03:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1ad83fd7]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 36, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - DELETE "/api/reservations/non-existent-id", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T12:03:11 (truncated)...]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 37, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 38, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 39, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 40, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 41, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 42, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 43, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 44, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 45, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 46, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 47, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 48, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [DeleteReservation], method [testDeleteReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 49, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 50, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@22587721]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1ab07559]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@26c79134]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@319b7537]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 51, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:11.059371100, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='cfe31440-bdf7-4045-a029-a7ab32f89f39', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/cfe31440-bdf7-4045-a029-a7ab32f89f39
2026-01-27 12:03:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:11 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 52, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 53, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 54, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 55, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 56, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 57, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 58, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [DeleteReservation], method [testDeleteReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$DeleteReservation
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 59, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [DeleteReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 12:03:11 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$UpdateReservation]: UpdateReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 12:03:11 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [UpdateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 60, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 61, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 62, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 63, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 64, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 65, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 66, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 67, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6ead88dd]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@685d9816]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4d225170]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5db4e558]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 68, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:11.348747900, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7da07721-282e-4e9d-8a89-f4260791f5f4', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/7da07721-282e-4e9d-8a89-f4260791f5f4
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/7da07721-282e-4e9d-8a89-f4260791f5f4
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/7da07721-282e-4e9d-8a89-f4260791f5f4", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T16:03:11.348747900, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7da07721-282e-4e9d-8a89-f4260791f5f4', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 69, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 70, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 71, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 72, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 73, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 74, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 75, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 76, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 77, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 78, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 79, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 80, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationConflict], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 81, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 82, missCount = 2, failureCount = 0]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7896b4d0]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@43e78ed6]
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:11 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@1eecc98c]
2026-01-27 12:03:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@75bd7c4a]
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 83, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:11.835299200, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='5af5504d-e755-44c3-9562-adfc056dab69', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T16:03:11.835299200, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='313a216e-3898-493a-8736-a1a3e1df8d15', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/5af5504d-e755-44c3-9562-adfc056dab69
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/5af5504d-e755-44c3-9562-adfc056dab69
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/5af5504d-e755-44c3-9562-adfc056dab69", parameters={}
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:33:11.835299200, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-01-27T12:03:12.150 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 84, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 85, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 86, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 87, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 88, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 89, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 90, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationConflict], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 91, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 92, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 93, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 94, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 95, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationInvalidData], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 96, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 97, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:12 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1abd92c6]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@119655f1]
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:12 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3a09ab7f]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@597880b1]
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 98, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:12.206901400, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='0d0e3174-323d-42cb-924d-bfb06b633c50', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/0d0e3174-323d-42cb-924d-bfb06b633c50
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/0d0e3174-323d-42cb-924d-bfb06b633c50
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/0d0e3174-323d-42cb-924d-bfb06b633c50", parameters={}
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T11:03:12.883215500, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydess., timestamp=2026- (truncated)...]
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydess.]
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 99, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 100, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 101, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 102, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 103, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 104, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 105, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationInvalidData], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 106, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 107, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 108, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 109, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 110, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [UpdateReservation], method [testUpdateReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 111, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 112, missCount = 2, failureCount = 0]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:12 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:12 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:12 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:12 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@434c2bbf]
2026-01-27 12:03:12 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4f401aac]
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:13 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@14467f3b]
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1235d778]
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 113, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - PUT "/api/reservations/non-existent-id", parameters={}
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:12.977526400, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T12:03:13 (truncated)...]
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 114, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 115, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 116, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 117, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 118, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 119, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 120, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [UpdateReservation], method [testUpdateReservationNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$UpdateReservation
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 121, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [UpdateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$GetReservationById]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 12:03:13 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$GetReservationById]: GetReservationById does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 12:03:13 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [GetReservationById], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 122, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 123, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 124, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 125, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 126, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 127, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationById], method [testGetReservationByIdNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 128, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 129, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:13 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@68bfaa16]
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@69dd03a0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:13 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@51790ffb]
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@51f39482]
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 130, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/non-existent-id", parameters={}
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei lydy ID:ll: non-existent-id, timestamp=2026-01-27T12:03:13 (truncated)...]
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei lydy ID:ll: non-existent-id]
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 131, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 132, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 133, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 134, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 135, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 136, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 137, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationById], method [testGetReservationByIdNotFound], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 138, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 139, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 140, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 141, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 142, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationById], method [testGetReservationById], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 143, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 144, missCount = 2, failureCount = 0]
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:13 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:13 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:13 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:13 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4bd42698]
2026-01-27 12:03:13 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@e4afa08]
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:14 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5a9fa35]
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4f54b976]
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 145, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:13.836180600, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='327829cb-b59c-48a6-bbea-8251e7ef0ed6', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/327829cb-b59c-48a6-bbea-8251e7ef0ed6
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/327829cb-b59c-48a6-bbea-8251e7ef0ed6
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/detail/327829cb-b59c-48a6-bbea-8251e7ef0ed6", parameters={}
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='327829cb-b59c-48a6-bbea-8251e7ef0ed6', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 146, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 147, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 148, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 149, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 150, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 151, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 152, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationById], method [testGetReservationById], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationById
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 153, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [GetReservationById], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$CreateReservation]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 12:03:14 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$CreateReservation]: CreateReservation does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 12:03:14 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [CreateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 154, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 155, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 156, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 157, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 158, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 159, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationInvalidTimePast], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 160, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 161, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:14 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@172249cd]
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@582a24c3]
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:14 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@472ab5a1]
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2a144ea0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 162, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T10:03:14.748340400, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydess., timestamp=2026-01-27T12:03:14. (truncated)...]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydess.]
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 163, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 164, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 165, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 166, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 167, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 168, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 169, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationInvalidTimePast], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 170, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 171, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 172, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 173, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 174, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 175, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 176, missCount = 2, failureCount = 0]
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:14 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2efb1871]
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@40df1311]
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:14 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:14 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:14 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:14 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@37248b2c]
2026-01-27 12:03:14 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@88d308b]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 177, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Pttymisaika on pakol (truncated)...]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Kyttjn nimi on pakollinen]] [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Pttymisaika on pakollinen]] ]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 178, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 179, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 180, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 181, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 182, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 183, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 184, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationMissingFields], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 185, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 186, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 187, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 188, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 189, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 190, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 191, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:15 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@d031623]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@72b611a]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:15 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@406ba622]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@280de5ae]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 192, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:15.211275100, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='2002fe35-5205-4dac-8f89-6f26120bd577', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:33:15.211275100, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-01-27T12:03:15.5 (truncated)...]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 409 CONFLICT
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 193, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 194, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 195, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 196, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 197, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 198, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 199, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationRoomAlreadyBooked], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 200, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 201, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 202, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 203, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 204, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 205, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 206, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:15 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1b3a8975]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7e3559b4]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:15 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@24ac4cf4]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3df17e4b]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 207, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:15.578907900, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='fbd694d4-fd41-4116-a292-8c6cbd459c7c', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 208, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 209, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 210, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 211, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 212, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 213, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 214, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 215, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 216, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 217, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 218, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 219, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationInvalidTimeOrder], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 220, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 221, missCount = 2, failureCount = 0]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:15 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:15 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:15 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:15 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@261a0d86]
2026-01-27 12:03:15 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@c1add62]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@723c7f2f]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@30427a3f]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 222, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:03:15.920684, endTime=2026-01-27T1 (truncated)...]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Pttymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-01-2 (truncated)...]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Pttymisaika ei voi olla alkamisaikaa ennen.]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 400 BAD_REQUEST
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 223, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 224, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 225, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 226, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 227, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 228, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 229, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationInvalidTimeOrder], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 230, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 231, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 232, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 233, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 234, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 235, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 236, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6fb68c4]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@22d2d248]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@7c269f21]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@44b3d336]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 237, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 238, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 239, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 240, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 241, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 242, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 243, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 244, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationWithoutAuth], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 245, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 246, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 247, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 248, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 249, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [CreateReservation], method [testCreateReservationConsecutiveSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 250, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 251, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@412d379c]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@27129ef5]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3b0c48bd]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5b64bc02]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 252, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:16.446965300, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='77b67352-a355-48d3-82a0-2b32da863e17', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@769e025c]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2edd66c9]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@315139e2]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7e9e125f]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T15:03:16.446965300, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='6319e774-017b-4703-b2cb-7ed3fcef8180', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 253, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 254, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 255, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 256, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 257, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 258, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 259, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [CreateReservation], method [testCreateReservationConsecutiveSuccess], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$CreateReservation
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 260, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [CreateReservation], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]: no resource found for suffixes {-context.xml, Context.groovy}.
2026-01-27 12:03:16 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom]: GetReservationsByRoom does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2026-01-27 12:03:16 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.backend.BackendApplication for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.u.TestContextSpringFactoriesUtils - Skipping candidate TestExecutionListener [org.springframework.test.context.observation.MicrometerObservationRegistryTestExecutionListener] due to a missing dependency. Specify custom TestExecutionListener classes or make the default TestExecutionListener classes and their required dependencies available. Offending class: io.micrometer.context.ThreadLocalAccessor. MicrometerObservationRegistryTestExecutionListener requires io.micrometer:micrometer-observation:1.10.8 or higher and io.micrometer:context-propagation:1.0.3 or higher.
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test class: class [GetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 261, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 262, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 263, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 264, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 265, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 266, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 267, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 268, missCount = 2, failureCount = 0]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:16 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:16 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:16 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:16 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@57f1cb96]
2026-01-27 12:03:16 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@64b71b49]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:17 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5d548872]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@18b9b269]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 269, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T13:03:16.954808800, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='e29bdae6-89be-4727-a79c-3eee12726956', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/reservations", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-01-27T16:03:16.954808800, endTime=2026-01-2 (truncated)...]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7a0471ea-9f52-4973-818c-baad54b62958', roomId='room-1', startTime=2026-01-27 (truncated)...]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='e29bdae6-89be-4727-a79c-3eee12726956', roomId='room-1', startTime=2026-01-2 (truncated)...]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 270, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 271, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 272, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 273, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 274, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 275, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 276, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 277, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 278, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 279, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 280, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 281, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoomEmpty], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 282, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 283, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:17 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@d8194cc]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@67775d80]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:17 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@53a8059]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5d2d89a6]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 284, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/room-1", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 285, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 286, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 287, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 288, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 289, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 290, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 291, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoomEmpty], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 292, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 293, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 294, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Setting up MockHttpServletRequest, MockHttpServletResponse, ServletWebRequest, and RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DependencyInjectionTestExecutionListener - Performing dependency injection for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 295, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 296, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DirtiesContextBeforeModesTestExecutionListener - Before test method: class [GetReservationsByRoom], method [testGetReservationsByRoomNoReservations], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 297, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 298, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-01-27 12:03:17 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/register", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2219ca9f]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at) 
    values
        (?, ?, ?, ?, ?, ?)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4a141eaf]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 201 CREATED
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-01-27 12:03:17 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - POST "/api/auth/login", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3232dbf8]
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@c18ee56]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 299, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-01-27 12:03:17 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - GET "/api/reservations/non-existent-room", parameters={}
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-01-27 12:03:17 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-01-27 12:03:17 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-01-27 12:03:17 [main] DEBUG o.s.t.w.s.TestDispatcherServlet - Completed 200 OK
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 300, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 301, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 302, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 303, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 304, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 305, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 306, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test method: class [GetReservationsByRoom], method [testGetReservationsByRoomNoReservations], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.w.ServletTestExecutionListener - Resetting RequestContextHolder for test class com.example.backend.controller.ReservationControllerTest$GetReservationsByRoom
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 307, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [GetReservationsByRoom], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:17 [main] DEBUG o.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@2bcf856f size = 2, maxSize = 32, parentContextCount = 0, hitCount = 308, missCount = 2, failureCount = 0]
2026-01-27 12:03:17 [main] DEBUG o.s.t.c.s.DirtiesContextTestExecutionListener - After test class: class [ReservationControllerTest], class annotated with @DirtiesContext [false] with mode [null]
2026-01-27 12:03:18 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@27ead29e, started on Tue Jan 27 12:02:52 EET 2026
2026-01-27 12:03:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 12:03:18 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 12:03:18 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 12:03:18 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 12:03:18 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5c807e6b, started on Tue Jan 27 12:03:04 EET 2026
2026-01-27 12:03:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-27 12:03:18 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade
2026-01-27 12:03:18 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade
2026-01-27 12:03:18 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade
2026-01-27 12:41:35 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-01-27 12:41:35 [restartedMain] INFO  c.example.backend.BackendApplication - Starting BackendApplication using Java 25.0.1 with PID 6248 (C:\Users\sami_\Tiedostot\dev\reservation\backend\target\classes started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-01-27 12:41:35 [restartedMain] DEBUG c.example.backend.BackendApplication - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-01-27 12:41:35 [restartedMain] INFO  c.example.backend.BackendApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-27 12:41:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-27 12:41:35 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-27 12:41:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-27 12:41:38 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 3 JPA repository interfaces.
2026-01-27 12:41:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-27 12:41:40 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-01-27 12:41:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-27 12:41:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.24]
2026-01-27 12:41:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-27 12:41:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4507 ms
2026-01-27 12:41:40 [restartedMain] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-01-27 12:41:40 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-01-27 12:41:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-01-27 12:41:41 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-01-27 12:41:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-01-27 12:41:42 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-27 12:41:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-27 12:41:42 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@20bb8eab
2026-01-27 12:41:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-27 12:41:42 [restartedMain] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.PostgreSQL10Dialect] as strategy [org.hibernate.dialect.Dialect]
	at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:154)
	at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:236)
	at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:189)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:123)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:88)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$1.execute(JdbcEnvironmentInitiator.java:328)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$1.execute(JdbcEnvironmentInitiator.java:277)
	at org.hibernate.jdbc.WorkExecutor.executeReturningWork(WorkExecutor.java:58)
	at org.hibernate.jdbc.AbstractReturningWork.accept(AbstractReturningWork.java:34)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:70)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.PostgreSQL10Dialect]
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:126)
	at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150)
	... 47 common frames omitted
Caused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.PostgreSQL10Dialect
	at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:216)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:557)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:547)
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123)
	... 48 common frames omitted
Caused by: java.lang.Throwable: null
	at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:209)
	... 53 common frames omitted
	Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.PostgreSQL10Dialect
		at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at java.base/java.lang.Class.forName0(Native Method)
		at java.base/java.lang.Class.forName(Class.java:547)
		at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:206)
		... 53 common frames omitted
	Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.PostgreSQL10Dialect
		at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:206)
		... 53 common frames omitted
	Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.PostgreSQL10Dialect
		at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at java.base/java.lang.Class.forName0(Native Method)
		at java.base/java.lang.Class.forName(Class.java:547)
		at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:206)
		... 53 common frames omitted
	Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.PostgreSQL10Dialect
		at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:206)
		... 53 common frames omitted
2026-01-27 12:41:42 [restartedMain] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.PostgreSQL10Dialect] as strategy [org.hibernate.dialect.Dialect]
2026-01-27 12:41:42 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.PostgreSQL10Dialect] as strategy [org.hibernate.dialect.Dialect]
2026-01-27 12:41:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-27 12:41:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-27 12:41:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-01-27 12:41:42 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-27 12:41:43 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.PostgreSQL10Dialect] as strategy [org.hibernate.dialect.Dialect]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:952)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352)
	at com.example.backend.BackendApplication.main(BackendApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to resolve name [org.hibernate.dialect.PostgreSQL10Dialect] as strategy [org.hibernate.dialect.Dialect]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1835)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1784)
	... 18 common frames omitted
Caused by: org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.PostgreSQL10Dialect] as strategy [org.hibernate.dialect.Dialect]
	at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:154)
	at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:236)
	at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.resolveStrategy(StrategySelectorImpl.java:189)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.constructDialect(DialectFactoryImpl.java:123)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:88)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:143)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:348)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 33 common frames omitted
Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [org.hibernate.dialect.PostgreSQL10Dialect]
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:126)
	at org.hibernate.boot.registry.selector.internal.StrategySelectorImpl.selectStrategyImplementor(StrategySelectorImpl.java:150)
	... 43 common frames omitted
Caused by: java.lang.ClassNotFoundException: Could not load requested class : org.hibernate.dialect.PostgreSQL10Dialect
	at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:216)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:557)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:547)
	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:123)
	... 44 common frames omitted
Caused by: java.lang.Throwable: null
	at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:209)
	... 49 common frames omitted
	Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.PostgreSQL10Dialect
		at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at java.base/java.lang.Class.forName0(Native Method)
		at java.base/java.lang.Class.forName(Class.java:547)
		at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:206)
		... 49 common frames omitted
	Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.PostgreSQL10Dialect
		at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:206)
		... 49 common frames omitted
	Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.PostgreSQL10Dialect
		at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at java.base/java.lang.Class.forName0(Native Method)
		at java.base/java.lang.Class.forName(Class.java:547)
		at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:206)
		... 49 common frames omitted
	Suppressed: java.lang.ClassNotFoundException: org.hibernate.dialect.PostgreSQL10Dialect
		at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
		at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
		at org.hibernate.boot.registry.classloading.internal.AggregatedClassLoader.findClass(AggregatedClassLoader.java:206)
		... 49 common frames omitted
