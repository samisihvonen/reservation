2026-02-06 09:03:18 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 22284 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 09:03:18 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 09:03:18 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-06 09:03:18 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-06 09:03:18 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2b61a019
2026-02-06 09:03:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 09:03:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-02-06 09:03:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 09:03:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 09:03:24 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 09:03:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 09:03:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 09:03:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 09:03:24 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 09:03:24 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 09:03:24 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 09:03:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 09:03:26 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 09:03:26 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62e55482, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ceb6796, org.springframework.security.web.context.SecurityContextHolderFilter@37bafef8, org.springframework.security.web.header.HeaderWriterFilter@231d5119, org.springframework.web.filter.CorsFilter@2aa176de, org.springframework.security.web.authentication.logout.LogoutFilter@2e903c69, com.example.backend.security.AuthTokenFilter@106c73ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15961527, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6645c1f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3208e15, org.springframework.security.web.session.SessionManagementFilter@450b99f2, org.springframework.security.web.access.ExceptionTranslationFilter@27bfa57f, org.springframework.security.web.access.intercept.AuthorizationFilter@106dee26]
2026-02-06 09:03:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 09:03:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 09:03:27 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 10.221 seconds (process running for 12.57)
2026-02-06 09:03:29 [main] INFO  c.e.b.c.HealthControllerTest - Starting HealthControllerTest using Java 25.0.1 with PID 22284 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 09:03:29 [main] DEBUG c.e.b.c.HealthControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 09:03:29 [main] INFO  c.e.b.c.HealthControllerTest - The following 1 profile is active: "test"
2026-02-06 09:03:29 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@6b5df313
2026-02-06 09:03:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 09:03:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 09:03:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 09:03:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 09:03:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 09:03:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 09:03:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 09:03:30 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 09:03:30 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 09:03:30 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 09:03:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 09:03:31 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 09:03:31 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64bf60c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@367628c8, org.springframework.security.web.context.SecurityContextHolderFilter@73174f4f, org.springframework.security.web.header.HeaderWriterFilter@2a01d4aa, org.springframework.web.filter.CorsFilter@206421da, org.springframework.security.web.authentication.logout.LogoutFilter@15800a35, com.example.backend.security.AuthTokenFilter@13553b2e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56b972a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@bea7f47, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@aa9c6b2, org.springframework.security.web.session.SessionManagementFilter@8921749, org.springframework.security.web.access.ExceptionTranslationFilter@68a1d32f, org.springframework.security.web.access.intercept.AuthorizationFilter@59217757]
2026-02-06 09:03:31 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 09:03:31 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 09:03:31 [main] INFO  c.e.b.c.HealthControllerTest - Started HealthControllerTest in 2.783 seconds (process running for 16.601)
2026-02-06 09:03:31 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 22284 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 09:03:31 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 09:03:31 [main] INFO  c.e.b.c.ReservationControllerTest - The following 1 profile is active: "test"
2026-02-06 09:03:31 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5f83a8dc
2026-02-06 09:03:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 09:03:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 09:03:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 09:03:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 09:03:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 09:03:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 09:03:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 09:03:32 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 09:03:32 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 09:03:32 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 09:03:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 09:03:33 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 09:03:33 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2360414f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76eabed6, org.springframework.security.web.context.SecurityContextHolderFilter@b753aa5, org.springframework.security.web.header.HeaderWriterFilter@2511ddb7, org.springframework.web.filter.CorsFilter@773faae8, org.springframework.security.web.authentication.logout.LogoutFilter@6d8948b2, com.example.backend.security.AuthTokenFilter@7a50482c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26501a93, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76577a33, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@159e8432, org.springframework.security.web.session.SessionManagementFilter@68e1f0a1, org.springframework.security.web.access.ExceptionTranslationFilter@39086d6b, org.springframework.security.web.access.intercept.AuthorizationFilter@18b9acd1]
2026-02-06 09:03:33 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 09:03:33 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 09:03:33 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-02-06 09:03:33 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-02-06 09:03:33 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 1.956 seconds (process running for 18.638)
2026-02-06 09:03:34 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6af78b2]
2026-02-06 09:03:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:34 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3d426638]
2026-02-06 09:03:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:34 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:34 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:34 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@280de5ae]
2026-02-06 09:03:34 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:34 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@42d7be51]
2026-02-06 09:03:34 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:34.148376100, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='e886b15c-495f-4e8e-8872-f4325b6c7788', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/e886b15c-495f-4e8e-8872-f4325b6c7788
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/e886b15c-495f-4e8e-8872-f4325b6c7788
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/e886b15c-495f-4e8e-8872-f4325b6c7788
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/e886b15c-495f-4e8e-8872-f4325b6c7788
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: e886b15c-495f-4e8e-8872-f4325b6c7788, timestam (truncated)...]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: e886b15c-495f-4e8e-8872-f4325b6c7788]
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@169729d9]
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3122e792]
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@1962d811]
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@32fe6b1e]
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T09:03:35 (truncated)...]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1eec2dcb]
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@32d3b7]
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:35 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:35 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:35 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@656fcf12]
2026-02-06 09:03:35 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3e4f326e]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:35.795282300, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='d1ed97bb-43f1-4e27-9cad-d4c67de181a1', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/d1ed97bb-43f1-4e27-9cad-d4c67de181a1
2026-02-06 09:03:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:36 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@478cea4]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@36ab2c76]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4bc5b2cf]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4326a3f7]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:36.125828300, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='edf0f051-326a-4902-9b94-a6e86e8c835a', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/edf0f051-326a-4902-9b94-a6e86e8c835a
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/edf0f051-326a-4902-9b94-a6e86e8c835a
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T13:03:36.125828300, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='edf0f051-326a-4902-9b94-a6e86e8c835a', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2a807c5a]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4cb242b2]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3caed20a]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@54cc182a]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:36.502071, endTime=2026-02-06T1 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='36cb3605-763a-4ffc-a846-c50fa1aeb3ae', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T13:03:36.502071, endTime=2026-02-06T1 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c58aa7ed-6beb-49e4-9e31-d69901e639cf', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/36cb3605-763a-4ffc-a846-c50fa1aeb3ae
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/36cb3605-763a-4ffc-a846-c50fa1aeb3ae
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T12:33:36.502071, endTime=2026-02-06T1 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-02-06T09:03:36.777 (truncated)...]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6c8d6a2f]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@75573368]
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:36 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:36 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:36 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4f94547a]
2026-02-06 09:03:36 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@763a53c1]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:36.796071600, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c4539d97-5ca3-481f-a598-a72186b54dc6', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/c4539d97-5ca3-481f-a598-a72186b54dc6
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/c4539d97-5ca3-481f-a598-a72186b54dc6
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T08:03:37.051362, endTime=2026-02-06T0 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydessä., timestamp=2026- (truncated)...]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydessä.]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@70713e9d]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2acc5a39]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@487969d]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@e0c6e2c]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:37.078416800, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T09:03:37 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4af25503]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@c546f73]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@51e044da]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@76baeab]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T09:03:37 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5f91ae3e]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1d17fbda]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@7d9d4205]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1f4e8af1]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:37.634914900, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='ea023827-8532-4a3d-88bb-3856ecd72cf6', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/ea023827-8532-4a3d-88bb-3856ecd72cf6
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/ea023827-8532-4a3d-88bb-3856ecd72cf6
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='ea023827-8532-4a3d-88bb-3856ecd72cf6', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:37 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:37 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:37 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4b2a235c]
2026-02-06 09:03:37 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4b35c252]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4477baf2]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@d5ea58e]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T07:03:38.193538500, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydessä., timestamp=2026-02-06T09:03:38. (truncated)...]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydessä.]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@69430b10]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3f7baa9f]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@60b1df88]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@33bf3cc9]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Päättymisaika on pakol (truncated)...]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Päättymisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Käyttäjän nimi on pakollinen]] ]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@44a2f289]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@d748c1a]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5e1c88ea]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@702a4064]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:38.468808200, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='620fef58-20f4-4029-8ffb-bf8af47704bb', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:33:38.468808200, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-02-06T09:03:38.7 (truncated)...]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@751c5975]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@69530799]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@6ea8e8bc]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@57304755]
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:38.726531700, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='716edb91-e67b-49bd-a890-d254e0b174fe', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:38 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:38 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:38 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@52924d98]
2026-02-06 09:03:38 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@38e8488f]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@62931c28]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4b2dd504]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T12:03:38.984432700, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Päättymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-02-0 (truncated)...]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Päättymisaika ei voi olla alkamisaikaa ennen.]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@62281081]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7e81b882]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4d2ad535]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3d5735c2]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2e8fc0c9]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@49f6e8a2]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4d6cfa5]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@258350de]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:39.497480, endTime=2026-02-06T1 (truncated)...]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='88168000-562b-49e1-9873-c00a8fd38c6c', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@70329364]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@438e6a90]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:39 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@73e0637a]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@724e9296]
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:39 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T12:03:39.497480, endTime=2026-02-06T1 (truncated)...]
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:39 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:39 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='744713ee-6e31-4d0c-af54-d00e100fe0d1', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@a2ee97c]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@47354906]
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@8253d0e]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5807cc68]
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T10:03:40.016692800, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='48523322-b124-4b7f-b158-05bb9d30f63c', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T13:03:40.016692800, endTime=2026-02-0 (truncated)...]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='10f16863-3793-45e2-902b-5bb90edb1253', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='48523322-b124-4b7f-b158-05bb9d30f63c', roomId='room-1', startTime=2026-02-0 (truncated)...]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2478f64c]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2472a75c]
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3b9bdbe8]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1f0df49]
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 09:03:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6e8ab407]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7d4e0b10]
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 09:03:40 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@ee5579f]
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@42898c45]
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-02-06 09:03:40 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 09:03:40 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 09:03:40 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2b61a019, started on Fri Feb 06 09:03:18 EET 2026
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@6b5df313, started on Fri Feb 06 09:03:29 EET 2026
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@5f83a8dc, started on Fri Feb 06 09:03:31 EET 2026
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 09:03:41 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
