2026-02-06 14:34:05 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-06 14:34:05 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 4100 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 14:34:05 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 14:34:05 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-06 14:34:05 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7ce9e05a
2026-02-06 14:34:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 14:34:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-02-06 14:34:10 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 14:34:10 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 14:34:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 14:34:12 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:34:12 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:34:12 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:34:12 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:34:12 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 14:34:12 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:34:14 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 14:34:15 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 14:34:15 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73611fbb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d0f2154, org.springframework.security.web.context.SecurityContextHolderFilter@121ec5c2, org.springframework.security.web.header.HeaderWriterFilter@27bfa57f, org.springframework.web.filter.CorsFilter@8374911, org.springframework.security.web.authentication.logout.LogoutFilter@3c3a8246, com.example.backend.security.AuthTokenFilter@49b73e6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1915879c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37bafef8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@106dee26, org.springframework.security.web.session.SessionManagementFilter@371a7fd5, org.springframework.security.web.access.ExceptionTranslationFilter@27df4dcb, org.springframework.security.web.access.intercept.AuthorizationFilter@12ebfc66]
2026-02-06 14:34:16 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 14:34:16 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 14:34:16 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 11.93 seconds (process running for 14.391)
2026-02-06 14:34:18 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 4100 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 14:34:18 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 14:34:18 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-06 14:34:18 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4d542218
2026-02-06 14:34:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 14:34:19 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 14:34:19 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 14:34:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 14:34:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:34:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:34:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:34:19 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:34:19 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 14:34:19 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:34:19 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 14:34:20 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 14:34:20 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c018211, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@267d9256, org.springframework.security.web.context.SecurityContextHolderFilter@66f4fb48, org.springframework.security.web.header.HeaderWriterFilter@5e22ac65, org.springframework.web.filter.CorsFilter@6cb6a38c, org.springframework.security.web.authentication.logout.LogoutFilter@5002fc11, com.example.backend.security.AuthTokenFilter@9d313fe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48c372db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64db8a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3982fdf7, org.springframework.security.web.session.SessionManagementFilter@2b7e2212, org.springframework.security.web.access.ExceptionTranslationFilter@5d708ef6, org.springframework.security.web.access.intercept.AuthorizationFilter@54ebd3b4]
2026-02-06 14:34:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 14:34:20 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 14:34:20 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-02-06 14:34:20 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-02-06 14:34:20 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 2.687 seconds (process running for 18.375)
2026-02-06 14:34:21 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:21 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:21 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:21 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:21 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:21 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6cdfae17]
2026-02-06 14:34:21 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:21 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:21 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:21 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@c634247]
2026-02-06 14:34:21 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:21 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:21 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:21 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@67d85d5f]
2026-02-06 14:34:21 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:21 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:21 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2e309b13]
2026-02-06 14:34:21 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:21.193191700, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='719b9a38-cbba-4f6e-858d-8eda283aebfb', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/719b9a38-cbba-4f6e-858d-8eda283aebfb
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/719b9a38-cbba-4f6e-858d-8eda283aebfb
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/719b9a38-cbba-4f6e-858d-8eda283aebfb
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/719b9a38-cbba-4f6e-858d-8eda283aebfb
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: 719b9a38-cbba-4f6e-858d-8eda283aebfb, timestam (truncated)...]
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: 719b9a38-cbba-4f6e-858d-8eda283aebfb]
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:22 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@8019a5]
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:22 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7a082f8a]
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:22 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:22 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@24abee74]
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7a1c89a2]
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T14:34:23 (truncated)...]
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:23 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@63f70fd7]
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2ff89271]
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:23 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@761bac58]
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2bd13c]
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:23.325989400, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='ac0abcaf-f315-4693-9baa-8572d9d96855', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/ac0abcaf-f315-4693-9baa-8572d9d96855
2026-02-06 14:34:23 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:23 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:23 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:23 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:23 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@63db2cb2]
2026-02-06 14:34:23 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@59209bcd]
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:24 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4ceb6854]
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@30f0c5e]
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:23.953202100, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c153958d-7b9a-4dc0-b502-3cff5438e60a', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/c153958d-7b9a-4dc0-b502-3cff5438e60a
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/c153958d-7b9a-4dc0-b502-3cff5438e60a
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:34:23.953202100, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c153958d-7b9a-4dc0-b502-3cff5438e60a', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:24 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@66557a82]
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@630d7bce]
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:24 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@277cf420]
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@51baea92]
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:24.538294400, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='93617fdc-84e8-4d8b-92df-8eb9be0e6da5', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:34:24.538294400, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:24 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='baf3362b-a94f-41ee-8a0b-a3b6f6a40d6f', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/93617fdc-84e8-4d8b-92df-8eb9be0e6da5
2026-02-06 14:34:24 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/93617fdc-84e8-4d8b-92df-8eb9be0e6da5
2026-02-06 14:34:24 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:04:24.538294400, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-02-06T14:34:25.023 (truncated)...]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@383e8680]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@29c808c8]
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@265b5f05]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@786f4b15]
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:25.047082300, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='cb32ee8e-bcbc-4d80-a0da-10dc2dfe2990', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/cb32ee8e-bcbc-4d80-a0da-10dc2dfe2990
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/cb32ee8e-bcbc-4d80-a0da-10dc2dfe2990
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T13:34:25.448584100, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydessä., timestamp=2026- (truncated)...]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydessä.]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@43582af1]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@9b7701f]
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@27631923]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@23bc053c]
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:25.531964, endTime=2026-02-06T1 (truncated)...]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T14:34:25 (truncated)...]
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:25 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:25 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:25 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:25 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7434956f]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7ddb114d]
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:26 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@7ba73d86]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@48d05f98]
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T14:34:26 (truncated)...]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:26 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4dc0c152]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6580f76c]
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:26 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@6980d3b3]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@64a3d839]
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:26.421984300, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='270e8720-1201-486b-8f09-a5b0c68939d8', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/270e8720-1201-486b-8f09-a5b0c68939d8
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/270e8720-1201-486b-8f09-a5b0c68939d8
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='270e8720-1201-486b-8f09-a5b0c68939d8', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:26 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@16ec1438]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2043b3d5]
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:26 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:26 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:26 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@29820c06]
2026-02-06 14:34:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4fbc7da0]
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T12:34:27.085461200, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydessä., timestamp=2026-02-06T14:34:27. (truncated)...]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydessä.]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@6593f4fd]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4c1c9116]
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@1cdf48b9]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4c40aed1]
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Päättymisaika on pakol (truncated)...]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Käyttäjän nimi on pakollinen]] [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Päättymisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] ]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@d72ec1b]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@34c73992]
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@322733e]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@396d5c73]
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:27.372830100, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='316b9cc1-f0e6-4789-8396-1bc99b8f6f1b', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T16:04:27.372830100, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-02-06T14:34:27.6 (truncated)...]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2dd1de65]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@700666b9]
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@c17ef34]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@21eaf75b]
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:27.641802500, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='e2eb7209-34de-490d-ac16-54d54d4c9a15', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@1be66706]
2026-02-06 14:34:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@351b70c1]
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@9fcca41]
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1640a06f]
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T17:34:27.920501800, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Päättymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-02-0 (truncated)...]
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Päättymisaika ei voi olla alkamisaikaa ennen.]
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5877a9e7]
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@652132d1]
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@285e483f]
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@40f923da]
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:28 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@15945b2e]
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@bc309af]
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@25afdf7e]
2026-02-06 14:34:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6950795e]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:28.778468900, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c920db6a-ed89-4884-a882-1aa47bf54c87', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:29 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4d6f0460]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@b025f2f]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:29 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@6c00601e]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@19e578e9]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T17:34:28.778468900, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-02-06T14:34:29.4 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:29 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@763df8f3]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@26c9521a]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:29 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@b0f9c63]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@633a4a3d]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:34:29.494229800, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='039cd643-3803-460f-a742-d8885102541c', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:34:29.494229800, endTime=2026-02-0 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b80ac7b9-1562-4d32-ac7c-85350c4a5850', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='039cd643-3803-460f-a742-d8885102541c', roomId='room-1', startTime=2026-02-0 (truncated)...]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:29 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@7e522994]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@599cc8a8]
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:29 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@7a5f612f]
2026-02-06 14:34:29 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7c441f09]
2026-02-06 14:34:30 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-06 14:34:30 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 14:34:30 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-06 14:34:30 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:34:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:30 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:34:30 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:34:30 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:30 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@9a28f5d]
2026-02-06 14:34:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:34:30 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@73a347e8]
2026-02-06 14:34:30 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:34:30 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:34:30 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@15db982e]
2026-02-06 14:34:30 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5f5fe604]
2026-02-06 14:34:30 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-02-06 14:34:30 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 14:34:30 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:34:30 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-06 14:34:30 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@7ce9e05a, started on Fri Feb 06 14:34:05 EET 2026
2026-02-06 14:34:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:34:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:34:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:34:30 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@4d542218, started on Fri Feb 06 14:34:18 EET 2026
2026-02-06 14:34:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:34:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:34:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:35:28 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-06 14:35:28 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 16824 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 14:35:28 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 14:35:28 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-06 14:35:28 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2b61a019
2026-02-06 14:35:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 14:35:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-02-06 14:35:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 14:35:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 14:35:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 14:35:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:35:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:35:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:35:35 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:35:35 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 14:35:35 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:35:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 14:35:37 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 14:35:37 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab7ac41, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ad67d82, org.springframework.security.web.context.SecurityContextHolderFilter@6a434cdd, org.springframework.security.web.header.HeaderWriterFilter@72090a80, org.springframework.web.filter.CorsFilter@301608d, org.springframework.security.web.authentication.logout.LogoutFilter@753b6846, com.example.backend.security.AuthTokenFilter@4924ad09, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d88d9d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4acae4c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c3a8246, org.springframework.security.web.session.SessionManagementFilter@4832813d, org.springframework.security.web.access.ExceptionTranslationFilter@1268ac94, org.springframework.security.web.access.intercept.AuthorizationFilter@621c7b91]
2026-02-06 14:35:38 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 14:35:38 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 14:35:39 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 10.892 seconds (process running for 13.199)
2026-02-06 14:35:40 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 16824 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 14:35:40 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 14:35:40 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-06 14:35:40 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2a6600ab
2026-02-06 14:35:41 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 14:35:41 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 14:35:41 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 14:35:41 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 14:35:41 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:35:41 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:35:41 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:35:41 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:35:41 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 14:35:41 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:35:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 14:35:42 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 14:35:42 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3bf8feec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@486e3116, org.springframework.security.web.context.SecurityContextHolderFilter@7ca9c253, org.springframework.security.web.header.HeaderWriterFilter@74d74701, org.springframework.web.filter.CorsFilter@230d0018, org.springframework.security.web.authentication.logout.LogoutFilter@2b7e2212, com.example.backend.security.AuthTokenFilter@20c3f386, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d424aea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e8b3a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c7178ed, org.springframework.security.web.session.SessionManagementFilter@78cb15b9, org.springframework.security.web.access.ExceptionTranslationFilter@302e3484, org.springframework.security.web.access.intercept.AuthorizationFilter@3408fdb8]
2026-02-06 14:35:42 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 14:35:42 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 14:35:43 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-02-06 14:35:43 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-02-06 14:35:43 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 2.903 seconds (process running for 17.434)
2026-02-06 14:35:43 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:43 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:43 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:43 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:43 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:43 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@52a2c66]
2026-02-06 14:35:43 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@75ac2594]
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@10a8bfac]
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4ed70448]
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:43.578164400, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='51e71ad7-6d79-46e6-ab41-3b2526604377', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/51e71ad7-6d79-46e6-ab41-3b2526604377
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/51e71ad7-6d79-46e6-ab41-3b2526604377
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/51e71ad7-6d79-46e6-ab41-3b2526604377
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/51e71ad7-6d79-46e6-ab41-3b2526604377
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: 51e71ad7-6d79-46e6-ab41-3b2526604377, timestam (truncated)...]
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: 51e71ad7-6d79-46e6-ab41-3b2526604377]
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:44 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:44 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:44 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@42c63e72]
2026-02-06 14:35:44 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7c4164a8]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@18fe293d]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5162ccc9]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/non-existent-id
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/non-existent-id
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T14:35:45 (truncated)...]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@a91212e]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2d9cde8]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@7d2b2f3a]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7c394b55]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:45.174915300, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='64217b3e-bb1e-4550-a049-127a69e78daa', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/64217b3e-bb1e-4550-a049-127a69e78daa
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@66e81cdd]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@47e869c4]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5a2c6a67]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@48b4fecb]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:45.507876300, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='2c738ab8-0ee6-4a1b-b7fe-0f46b6e1ea00', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/2c738ab8-0ee6-4a1b-b7fe-0f46b6e1ea00
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/2c738ab8-0ee6-4a1b-b7fe-0f46b6e1ea00
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:35:45.507876300, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    update
        reservations 
    set
        end_time=?,
        room_id=?,
        start_time=?,
        updated_at=?,
        username=? 
    where
        id=?
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='2c738ab8-0ee6-4a1b-b7fe-0f46b6e1ea00', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@15411d35]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@26bc130c]
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:45 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:45 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:45 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@3e5595da]
2026-02-06 14:35:45 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@35cefec6]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:45.851872, endTime=2026-02-06T1 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='7d860ba0-35ec-4e16-ac93-0b8dae572c98', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:35:45.851872, endTime=2026-02-06T2 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='b5fdf00a-c83d-4b93-ae6c-151390b48257', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/7d860ba0-35ec-4e16-ac93-0b8dae572c98
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/7d860ba0-35ec-4e16-ac93-0b8dae572c98
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:05:45.851872, endTime=2026-02-06T1 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on varattu uuden ajan osalta., timestamp=2026-02-06T14:35:46.114 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on varattu uuden ajan osalta.]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@c18ee56]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3b4971c4]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@770feaab]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2e619363]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:46.173729, endTime=2026-02-06T1 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='98cac7fc-8e99-4ad9-ba17-2beac4fb65b2', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/98cac7fc-8e99-4ad9-ba17-2beac4fb65b2
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/98cac7fc-8e99-4ad9-ba17-2beac4fb65b2
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T13:35:46.425599800, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varauksen alkamisaika ei voi olla menneisyydessä., timestamp=2026- (truncated)...]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varauksen alkamisaika ei voi olla menneisyydessä.]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5eb1fd44]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@12b485d8]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@6cd56b97]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7a625e2e]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/non-existent-id
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/non-existent-id
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:46.449457800, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T14:35:46 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@67205ec8]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5376b688]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5b36c066]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@68e3c94]
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/non-existent-id
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/non-existent-id
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleReservationException(ReservationException)
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Varausvirhe, message=Varausta ei löydy ID:llä: non-existent-id, timestamp=2026-02-06T14:35:46 (truncated)...]
2026-02-06 14:35:46 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.ReservationException: Varausta ei löydy ID:llä: non-existent-id]
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:46 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:46 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:46 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4021732]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@30fe1b54]
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@6281326f]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@29457ad2]
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:46.995959, endTime=2026-02-06T1 (truncated)...]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='11ae46ca-a934-4b05-8b98-40776418811c', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/detail/11ae46ca-a934-4b05-8b98-40776418811c
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/detail/11ae46ca-a934-4b05-8b98-40776418811c
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getById(String)
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='11ae46ca-a934-4b05-8b98-40776418811c', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@77c5f519]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@ed24b1d]
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4ba97a4]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@715ab10f]
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T12:35:47.586922800, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydessä., timestamp=2026-02-06T14:35:47. (truncated)...]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydessä.]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5194394]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@37ee58cf]
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@d6b8c43]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@62418263]
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=null, endTime=null, user='null'}]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleValidationException(MethodArgumentNotValidException)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Validointivirhe, message={startTime=Alkamisaika on pakollinen, endTime=Päättymisaika on pakol (truncated)...]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.example.backend.dto.ReservationResponse> com.example.backend.controller.ReservationController.create(com.example.backend.dto.CreateReservationRequest) with 3 errors: [Field error in object 'createReservationRequest' on field 'startTime': rejected value [null]; codes [NotNull.createReservationRequest.startTime,NotNull.startTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.startTime,startTime]; arguments []; default message [startTime]]; default message [Alkamisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'endTime': rejected value [null]; codes [NotNull.createReservationRequest.endTime,NotNull.endTime,NotNull.java.time.LocalDateTime,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.endTime,endTime]; arguments []; default message [endTime]]; default message [Päättymisaika on pakollinen]] [Field error in object 'createReservationRequest' on field 'user': rejected value [null]; codes [NotBlank.createReservationRequest.user,NotBlank.user,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createReservationRequest.user,user]; arguments []; default message [user]]; default message [Käyttäjän nimi on pakollinen]] ]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@46e052e5]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2733414d]
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:47 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:47 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:47 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@24d18d17]
2026-02-06 14:35:47 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1c1f348f]
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:47.876962100, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='550d37e7-0364-4a99-9e93-9a078c59818f', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T16:05:47.876962100, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleRoomAlreadyBooked(RoomAlreadyBookedException)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Huone varattu, message=Huone on jo varattu valittuna aikana., timestamp=2026-02-06T14:35:48.1 (truncated)...]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.RoomAlreadyBookedException: Huone on jo varattu valittuna aikana.]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@720d007b]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@332c14f2]
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@f7269a2]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@4b894754]
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:48.185897900, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='378a5ce4-2a80-4a4b-853a-3f0845340f81', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@46b6e644]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@22ccf63d]
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@8d27060]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@20deb6f5]
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T17:35:48.672316600, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Päättymisaika ei voi olla alkamisaikaa ennen., timestamp=2026-02-0 (truncated)...]
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Päättymisaika ei voi olla alkamisaikaa ennen.]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:48 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:48 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:48 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@770f3c94]
2026-02-06 14:35:48 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2d0584c0]
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:49 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@259ec563]
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@c2bb2f5]
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:49 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:49 [main] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:49 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@5fbda121]
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@6db27836]
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:49 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5ac81385]
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5f9f5487]
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:35:49.438556800, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='fa34f034-563d-4638-b9c6-0c001e4b0e12', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:35:49.438556800, endTime=2026-02-0 (truncated)...]
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='f7407adf-614e-410a-b161-ebb664454332', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='fa34f034-563d-4638-b9c6-0c001e4b0e12', roomId='room-1', startTime=2026-02-0 (truncated)...]
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        reservations 
    where
        id=?
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:49 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@501dd0b4]
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@e125b5]
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:49 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:49 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:49 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@26c9521a]
2026-02-06 14:35:49 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7073b501]
2026-02-06 14:35:50 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-06 14:35:50 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 14:35:50 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-06 14:35:50 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:35:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:50 [main] DEBUG org.hibernate.SQL - 
    delete 
    from
        users 
    where
        id=?
2026-02-06 14:35:50 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:35:50 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:50 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@21d297a]
2026-02-06 14:35:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:35:50 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3976dacd]
2026-02-06 14:35:50 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:35:50 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:35:50 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5f580241]
2026-02-06 14:35:50 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7625ce5a]
2026-02-06 14:35:50 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/non-existent-room
2026-02-06 14:35:50 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/non-existent-room
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 14:35:50 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:35:50 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2026-02-06 14:35:50 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2b61a019, started on Fri Feb 06 14:35:28 EET 2026
2026-02-06 14:35:50 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:35:50 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:35:50 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:35:50 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@2a6600ab, started on Fri Feb 06 14:35:40 EET 2026
2026-02-06 14:35:50 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:35:50 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:35:50 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:38:48 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-06 14:38:48 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 2736 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 14:38:48 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 14:38:48 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-06 14:38:49 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3910fe11
2026-02-06 14:38:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 14:38:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-02-06 14:38:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 14:38:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 14:38:58 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 14:38:58 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:38:58 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:38:58 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:38:58 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:38:58 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 14:38:58 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:39:02 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 14:39:02 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 14:39:03 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56a69c47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@333cedbd, org.springframework.security.web.context.SecurityContextHolderFilter@73611fbb, org.springframework.security.web.header.HeaderWriterFilter@71d2bc34, org.springframework.web.filter.CorsFilter@388b9799, org.springframework.security.web.authentication.logout.LogoutFilter@4057eb76, com.example.backend.security.AuthTokenFilter@5cdafb4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b0aa757, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62e55482, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4225b4e2, org.springframework.security.web.session.SessionManagementFilter@5d571179, org.springframework.security.web.access.ExceptionTranslationFilter@301608d, org.springframework.security.web.access.intercept.AuthorizationFilter@6479b4cb]
2026-02-06 14:39:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 14:39:03 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 14:39:04 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 16.9 seconds (process running for 19.835)
2026-02-06 14:39:05 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 2736 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 14:39:05 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 14:39:05 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-06 14:39:05 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@447522b4
2026-02-06 14:39:07 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 14:39:07 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 14:39:07 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 14:39:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 14:39:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:39:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:39:07 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:39:07 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:39:07 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 14:39:07 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:39:07 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 14:39:07 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 14:39:08 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d9cd8b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55a869a9, org.springframework.security.web.context.SecurityContextHolderFilter@2c3344f0, org.springframework.security.web.header.HeaderWriterFilter@3f13ab39, org.springframework.web.filter.CorsFilter@2d739a6f, org.springframework.security.web.authentication.logout.LogoutFilter@52da1357, com.example.backend.security.AuthTokenFilter@33980345, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7db373b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c69c582, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c93275f, org.springframework.security.web.session.SessionManagementFilter@1bb3d045, org.springframework.security.web.access.ExceptionTranslationFilter@40957c86, org.springframework.security.web.access.intercept.AuthorizationFilter@66cdde2b]
2026-02-06 14:39:08 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 14:39:08 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 14:39:08 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-02-06 14:39:08 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-02-06 14:39:08 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 2.883 seconds (process running for 23.878)
2026-02-06 14:39:08 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:39:08 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:39:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@56fdb4db]
2026-02-06 14:39:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:09 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1015bd66]
2026-02-06 14:39:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:39:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@4a595315]
2026-02-06 14:39:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@568e814c]
2026-02-06 14:39:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:39:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:39:08, endTime=2026-02-06T17:39:08 (truncated)...]
2026-02-06 14:39:09 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:39:09 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='832ca01e-b9f2-428f-81bd-c20ac6e59be4', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:39:09 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:39:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:09 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:39:09 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:09 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:39:09 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4a83736a]
2026-02-06 14:39:09 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@c5a82d6]
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:39:10 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@7bdc5700]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@f33b8fc]
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T12:39:10.232665300, endTime=2026-02-0 (truncated)...]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydessä., timestamp=2026-02-06T14:39:10. (truncated)...]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydessä.]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:39:10 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@8968fe8]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@5803dcf0]
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:39:10 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@5cacf095]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@13d305e4]
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:39:10, endTime=2026-02-06T17:39:10 (truncated)...]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='eb48b4a9-4aaa-4cf1-a333-e3771616d7d8', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/eb48b4a9-4aaa-4cf1-a333-e3771616d7d8
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/eb48b4a9-4aaa-4cf1-a333-e3771616d7d8
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:39:10, endTime=2026-02-06T20:39:10 (truncated)...]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='eb48b4a9-4aaa-4cf1-a333-e3771616d7d8', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:39:10 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@4c2f3f41]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7d332e20]
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:39:10 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:10 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:39:10 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@582679fd]
2026-02-06 14:39:10 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7546033d]
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:39:10, endTime=2026-02-06T17:39:10 (truncated)...]
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='784dfd30-b6ee-4bf8-862b-62fa15467d0b', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='784dfd30-b6ee-4bf8-862b-62fa15467d0b', roomId='room-1', startTime=2026-02-0 (truncated)...]
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:39:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@75b9bbab]
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@747d4d9a]
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:39:11 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@2982f1eb]
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@12c338fe]
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:39:11, endTime=2026-02-06T17:39:11 (truncated)...]
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='63080cd3-7202-44e2-8ec2-0c55b298517a', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/63080cd3-7202-44e2-8ec2-0c55b298517a
2026-02-06 14:39:11 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/63080cd3-7202-44e2-8ec2-0c55b298517a
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:39:11 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:39:11 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-06 14:39:12 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@3910fe11, started on Fri Feb 06 14:38:49 EET 2026
2026-02-06 14:39:12 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:39:12 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:39:12 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:39:12 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@447522b4, started on Fri Feb 06 14:39:05 EET 2026
2026-02-06 14:39:12 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:39:12 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:39:12 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:41:07 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2026-02-06 14:41:07 [main] INFO  c.e.backend.BackendApplicationTests - Starting BackendApplicationTests using Java 25.0.1 with PID 15504 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 14:41:07 [main] DEBUG c.e.backend.BackendApplicationTests - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 14:41:07 [main] INFO  c.e.backend.BackendApplicationTests - No active profile set, falling back to 1 default profile: "default"
2026-02-06 14:41:07 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3910fe11
2026-02-06 14:41:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 14:41:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.8.Final
2026-02-06 14:41:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 14:41:15 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 14:41:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 14:41:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:41:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:41:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:41:17 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:41:17 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 14:41:17 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:41:20 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 14:41:20 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 14:41:21 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66f15ce5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69a8191e, org.springframework.security.web.context.SecurityContextHolderFilter@71d2bc34, org.springframework.security.web.header.HeaderWriterFilter@33012e6f, org.springframework.web.filter.CorsFilter@3ab7b0f, org.springframework.security.web.authentication.logout.LogoutFilter@65b639e1, com.example.backend.security.AuthTokenFilter@1dfd3635, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bfe398b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d96b0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1621264e, org.springframework.security.web.session.SessionManagementFilter@bd8f424, org.springframework.security.web.access.ExceptionTranslationFilter@168f447d, org.springframework.security.web.access.intercept.AuthorizationFilter@1c61011b]
2026-02-06 14:41:21 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 14:41:21 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 14:41:22 [main] INFO  c.e.backend.BackendApplicationTests - Started BackendApplicationTests in 16.31 seconds (process running for 18.981)
2026-02-06 14:41:23 [main] INFO  c.e.b.c.ReservationControllerTest - Starting ReservationControllerTest using Java 25.0.1 with PID 15504 (started by sami_ in C:\Users\sami_\Tiedostot\dev\reservation\backend)
2026-02-06 14:41:23 [main] DEBUG c.e.b.c.ReservationControllerTest - Running with Spring Boot v3.2.6, Spring v6.1.8
2026-02-06 14:41:23 [main] INFO  c.e.b.c.ReservationControllerTest - No active profile set, falling back to 1 default profile: "default"
2026-02-06 14:41:23 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@eb9b76c
2026-02-06 14:41:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2026-02-06 14:41:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2026-02-06 14:41:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2026-02-06 14:41:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-06 14:41:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:41:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:41:25 [main] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:41:25 [main] DEBUG org.hibernate.SQL - 
    create table reservations (
        created_at timestamp(6) not null,
        end_time timestamp(6) not null,
        start_time timestamp(6) not null,
        updated_at timestamp(6) not null,
        id varchar(255) not null,
        room_id varchar(255) not null,
        username varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:41:25 [main] DEBUG org.hibernate.SQL - 
    create table rooms (
        capacity integer not null,
        is_active boolean not null,
        created_at timestamp(6) not null,
        updated_at timestamp(6) not null,
        description varchar(255),
        location varchar(255),
        room_id varchar(255) not null,
        room_name varchar(255) not null,
        primary key (room_id)
    )
2026-02-06 14:41:25 [main] DEBUG org.hibernate.SQL - 
    create table users (
        enabled boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        display_name varchar(255) not null,
        email varchar(255) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2026-02-06 14:41:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 23 mappings in 'requestMappingHandlerMapping'
2026-02-06 14:41:25 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2026-02-06 14:41:25 [main] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@53ce41e7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d9cd8b7, org.springframework.security.web.context.SecurityContextHolderFilter@290798cb, org.springframework.security.web.header.HeaderWriterFilter@77ae2d25, org.springframework.web.filter.CorsFilter@55a869a9, org.springframework.security.web.authentication.logout.LogoutFilter@7c458ad3, com.example.backend.security.AuthTokenFilter@4a04177e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b91ac30, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a5f0ed5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d739a6f, org.springframework.security.web.session.SessionManagementFilter@39dbea69, org.springframework.security.web.access.ExceptionTranslationFilter@ae54cb3, org.springframework.security.web.access.intercept.AuthorizationFilter@11a3ffe6]
2026-02-06 14:41:26 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2026-02-06 14:41:26 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2026-02-06 14:41:26 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2026-02-06 14:41:26 [main] DEBUG c.e.backend.security.AuthTokenFilter - Filter 'authTokenFilter' configured for use
2026-02-06 14:41:26 [main] INFO  c.e.b.c.ReservationControllerTest - Started ReservationControllerTest in 2.813 seconds (process running for 23.013)
2026-02-06 14:41:26 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:41:26 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:26 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:41:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@3aa8ebf9]
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@28b992e0]
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:41:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@36477cf]
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3727021e]
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:41:26, endTime=2026-02-06T17:41:26 (truncated)...]
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c743855b-6c25-4214-b496-e5cc790b5dad', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:41:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@3402004f]
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1861c4a9]
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:41:27 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:27 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:41:27 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@12b67070]
2026-02-06 14:41:27 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1d57b043]
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T12:41:28.006864, endTime=2026-02-06T1 (truncated)...]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.backend.exception.GlobalExceptionHandler#handleInvalidTime(InvalidReservationTimeException)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Virheellinen aika, message=Varaus ei voi olla menneisyydessä., timestamp=2026-02-06T14:41:28. (truncated)...]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.example.backend.exception.InvalidReservationTimeException: Varaus ei voi olla menneisyydessä.]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:41:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@16bf9b0a]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@2222aa18]
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:41:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@57d1cbb1]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@3077921f]
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:41:28, endTime=2026-02-06T17:41:28 (truncated)...]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c94b9751-650d-4c32-a04c-11a2c83ff787', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/reservations/c94b9751-650d-4c32-a04c-11a2c83ff787
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/reservations/c94b9751-650d-4c32-a04c-11a2c83ff787
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#update(String, CreateReservationRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T18:41:28, endTime=2026-02-06T20:41:28 (truncated)...]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='c94b9751-650d-4c32-a04c-11a2c83ff787', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:41:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@3ebb8383]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@12973dd3]
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:41:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@71d81a3e]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@7c007713]
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:41:28, endTime=2026-02-06T17:41:28 (truncated)...]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='64db58bd-ef48-4cca-aa69-51fb0f558b4f', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/reservations/room-1
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/reservations/room-1
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#getByRoom(String)
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[ReservationResponse{id='64db58bd-ef48-4cca-aa69-51fb0f558b4f', roomId='room-1', startTime=2026-02-0 (truncated)...]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/register
2026-02-06 14:41:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/register
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#register(RegisterRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.RegisterRequest@2e5f2387]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id 
    from
        users u1_0 
    where
        u1_0.email=? 
    fetch
        first ? rows only
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        users
        (created_at, display_name, email, enabled, password, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@25b665ca]
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2026-02-06 14:41:28 [main] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2026-02-06 14:41:28 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/auth/login
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.AuthController#login(LoginRequest)
2026-02-06 14:41:28 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.example.backend.dto.LoginRequest@45ec7633]
2026-02-06 14:41:28 [main] DEBUG org.hibernate.SQL - 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.display_name,
        u1_0.email,
        u1_0.enabled,
        u1_0.password,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.backend.dto.AuthResponse@1eae036e]
2026-02-06 14:41:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/reservations
2026-02-06 14:41:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/reservations
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#create(CreateReservationRequest)
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [CreateReservationRequest{roomId='room-1', startTime=2026-02-06T15:41:28, endTime=2026-02-06T17:41:28 (truncated)...]
2026-02-06 14:41:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.room_id=?
2026-02-06 14:41:29 [main] DEBUG org.hibernate.SQL - 
    select
        r1_0.id,
        r1_0.created_at,
        r1_0.end_time,
        r1_0.room_id,
        r1_0.start_time,
        r1_0.updated_at,
        r1_0.username 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ReservationResponse{id='8f51ddd2-1f17-4b97-b582-c40fda5b6cad', roomId='room-1', startTime=2026-02-06 (truncated)...]
2026-02-06 14:41:29 [main] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/reservations/8f51ddd2-1f17-4b97-b582-c40fda5b6cad
2026-02-06 14:41:29 [main] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/reservations/8f51ddd2-1f17-4b97-b582-c40fda5b6cad
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.backend.controller.ReservationController#delete(String)
2026-02-06 14:41:29 [main] DEBUG org.hibernate.SQL - 
    insert 
    into
        reservations
        (created_at, end_time, room_id, start_time, updated_at, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2026-02-06 14:41:29 [main] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        reservations r1_0 
    where
        r1_0.id=?
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2026-02-06 14:41:29 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Nothing to write: null body
2026-02-06 14:41:30 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@3910fe11, started on Fri Feb 06 14:41:07 EET 2026
2026-02-06 14:41:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:41:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:41:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
2026-02-06 14:41:30 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@eb9b76c, started on Fri Feb 06 14:41:23 EET 2026
2026-02-06 14:41:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists reservations cascade 
2026-02-06 14:41:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists rooms cascade 
2026-02-06 14:41:30 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL - 
    drop table if exists users cascade 
